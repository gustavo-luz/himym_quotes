/*! @amzn/apswebapstaglibrary - apstag - v22.8.252032 - 2022-08-25 20:32:34 */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=35)}([function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){try{var e=parseInt(t,10);if(!isNaN(e))return!(e<=0)&&(100<=e||100*Math.random()<=e)}catch(t){}return!1}function i(t,e){var n=parseInt(e,10),r=[],o=0;if(!u(t))return r;if(isNaN(n)||n<1)return[t];for(var i=t.length;o<i;){var a=o;o+=n,r.push(t.slice(a,o))}return r}function a(){return"".concat(Math.round(1e12*Math.random())).concat(Date.now())}function c(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=new Array(t),r=0;r<t;r++)n[r]=e[Math.floor(Math.random()*e.length)];return n.join("")}function s(t){return"object"===r(t)&&null!==t}function u(t){return"[object Array]"===Object.prototype.toString.call(t)}function d(t,e){return s(t)&&void 0!==t[e]&&""!==t[e]}function l(t,e){return-1!==t.indexOf(e)}function f(){return document.cookie.split("; ").map((function(t){return t.split("=")}))}function b(t){return!!(t=window.document.cookie.match("(^|;)*\\s*"+t+"\\s*=\\s*([^;]+)"))&&JSON.parse(decodeURIComponent(t.pop()))}function p(t){var e=new Date;return e.setDate(e.getDate()+t),e.toUTCString()}function m(t){try{var e=t.innerWidth||t.document.documentElement.clientWidth||t.document.body.clientWidth,n=t.innerHeight||t.document.documentElement.clientHeight||t.document.body.clientHeight;return"".concat(e,"x").concat(n)}catch(t){}return"x"}function y(t,e){return decodeURIComponent(t).split("?")[0].split("#")[0]===decodeURIComponent(e).split("?")[0].split("#")[0]}function g(t){var e=Object.keys(t);return e.filter((function(e){return t[e]})).length===e.length}n.d(e,"n",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"l",(function(){return s})),n.d(e,"k",(function(){return u})),n.d(e,"m",(function(){return d})),n.d(e,"j",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return b})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"a",(function(){return g}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return f}));e=n(0);var r=n(3),o=n(2),i=n(7),a=n(8),c=Object(e.n)(10),s=[];function u(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];try{(n||Object(i.d)("errors"))&&console.error(t);var u={ts:Date.now(),url:encodeURIComponent(Object(a.g)(window)),r:encodeURIComponent(Object(a.h)(window)),_type:"apsLibraryError",e:{et:t.name,el:e,msg:t.message}};return s.push(u),o.a.dispatch({type:"LOG_ERROR",error:u}),!!c&&(Object(r.b)(u),!0)}catch(t){console.error(t)}return!1}function d(t,e,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];return u({name:e,message:"".concat(t," was of type '").concat(e,"' instead of '").concat(n,"'")},"TypeError-".concat(t),r)}function l(t,e){return function(){try{return t.apply(null,arguments)}catch(t){return u(t,e,!0),null}}}function f(t){(1<arguments.length&&void 0!==arguments[1]&&arguments[1]||Object(i.d)("errors"))&&console.warn(t)}!0===Object(i.c)("exposeErrors")&&(window.apstagErrors=s)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r,o=n(4),i=(e=n(14),n(0));n=n(7);function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var l={AAXReqs:[],aaxViewabilityEnabled:!1,bidConfigs:{},bidReqs:{},bsPixels:{},cfg:{v:-1,CSM_JS:"//c.amazon-adsystem.com/aax2/csm.js.gz",CSM_RTB_COMMUNICATOR_JS:"//c.amazon-adsystem.com/bao-csm/aps-comm/aps_csm.js",DEBUG_APP_HTML:"//c.amazon-adsystem.com/aax2/debugApp.html",DEBUG_APP_HTML_V2:"//c.amazon-adsystem.com/aax2/debug_app_v2.html",DEFAULT_TIMEOUT:2e3,DTB_PATH:"/e/dtb",TEST_PATH_FREQUENCY:0,TEST_BID_ENDPOINT:null,TEST_PATH_LATENCY_SAMPLE_RATE:null,PIXEL_PATH:"/x/px/",LATENCY_SAMPLING_RATE:1,COOKIE_MATCH_DELAY:0,MAX_SLOTS_PER_REQUEST:1,CF_ROUTING_RATE:100,SLOT_RENDER_SAMPLING_RATE:1,FEATURE_SAMPLING_RATE:1,CONFIG_CALL_ENABLED:!1,LIB_CONFIG_PATH:"/cdn/prod/config"},cmpFired:!1,config:{pubID:""},displayAdServer:{noBidSlotIDs:[],shouldSampleRender:!1,slotRenderEndedSet:!1},errors:[],eventLog:[],experiments:{},gamSlotFetchLog:[],gamSlotRenderPixel:{aaxReqOffset:0,gamSlotFetchLogOffset:0},hosts:{DEFAULT_AAX_BID_HOST:"aax.amazon-adsystem.com",DEFAULT_AAX_PIXEL_HOST:"aax.amazon-adsystem.com"},identityState:{},libraryLoadCallLatency:0,Q:[],slotBids:{},sync917:!1,targetingKeys:{},tcfParseTime:0,outstream:{renderStart:0,shouldSample:!1},consentManagementPlatform:{}};function f(){var t,e,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:l,a=1<arguments.length?arguments[1]:void 0;return{AAXReqs:function(t,e){switch(e.type){case"RECORD_AAX_REQUEST":return[].concat(u(t),[e.data]);case"RECORD_AAX_REQ_PROP":return t.map((function(t){return(t=c({},t)).bidReqID===e.bidReqID&&(t[e.key]=e.value),t}));default:return u(t)}}(r.AAXReqs,a),aaxViewabilityEnabled:(e=r.aaxViewabilityEnabled,"SET_VIEWABILITY"!==(n=a).type?e:n.viewability),bidConfigs:(e=r.bidConfigs,"RECORD_ORIGINAL_BID_CONFIG"!==(n=a).type?c({},e):c(c({},e),{},s({},n.bidConfig.bidReqID,n.bidConfig))),bidReqs:function(t,e){var n;switch(e.type){case"ADD_CHUNKED_REQUESTS":return c(c({},t),{},s({},e.fid,c(c({},t[e.fid]),{},{networkReqs:new Array(e.numChunks)})));case"NEW_FETCH_BID_REQUEST":return c(c({},t),{},s({},e.fid,{pto:e.pto,hasCallbackExecuted:!1,networkReqs:[]}));case"RECORD_CALLBACK":return c(c({},t),{},s({},e.fid,c(c({},t[e.fid]),{},{hasCallbackExecuted:!0})));case"RECORD_NETWORK_EXCHANGE":var r=t[e.fid].networkReqs;return r[e.networkID]=c(c({},r[e.networkID]),{},(s(n={},"".concat(e.exchangeType,"Time"),e.timestamp),s(n,"inFlight","request"===e.exchangeType),n)),c(c({},t),{},s({},e.fid,c(c({},t[e.fid]),{},{networkReqs:r})));case"RECORD_TIMEOUT":return c(c({},t),{},s({},e.fid,c(c({},t[e.fid]),{},{networkReqs:t[e.fid].networkReqs.map((function(t){return t.inFlight?c(c({},t),{},{timeOut:e.timeOut}):t}))})));default:return c({},t)}}(r.bidReqs,a),bsPixels:(e=r.bsPixels,"RECORD_BID_INFO_SENT"!==(n=a).type?c({},e):c(c({},e),{},s({},n.bidInfo.iid,n.bidInfo.state))),cfg:(e=r.cfg,"SET_CFG"!==(n=a).type?c({},e):c(c({},e),n.cfg)),cmpFired:(e=r.cmpFired,"CMP_FIRED"===a.type||e),config:(n=r.config,"SET_CONFIG"!==(e=a).type?c({},n):c(c({},e.config),{},{gdpr:c({cmpTimeout:e.defaultCmpTimeout},e.config.gdpr),isSelfServePub:void 0!==e.config.pubID&&5<=e.config.pubID.length})),displayAdServer:function(t,e){switch(e.type){case"SLOT_RENDER_ENDED_SET":return c(c({},t),{},{slotRenderEndedSet:!0});case"NO_BID_ON_ADSERVER_SLOTS":return c(c({},t),{},{noBidSlotIDs:t.noBidSlotIDs.concat(e.slotIDs)});case"REQUESTED_BID_FOR_ADSERVER_SLOTS":return c(c({},t),{},{noBidSlotIDs:t.noBidSlotIDs.filter((function(t){return!Object(i.j)(e.slotIDs,t)}))});case"SHOULD_SAMPLE_SLOT_RENDER":return c(c({},t),{},{shouldSampleRender:e.value});default:return c(c({},t),{},{noBidSlotIDs:u(t.noBidSlotIDs)})}}(r.displayAdServer,a),errors:(n=r.errors,"LOG_ERROR"!==(e=a).type?u(n):[].concat(u(n),[c({},e.error)])),eventLog:(n=r.eventLog,"LOG_EVENT"!==(e=a).type?u(n):[].concat(u(n),[c({},e.event)])),experiments:function(t,e){switch(e.type){case"SHOULD_CHUNK_REQUESTS":return c({chunkRequests:!0===t.shouldSampleLatency&&e.value},t);case"SHOULD_CF_ROUTE":return c(c({},t),{},{shouldCFRoute:e.value});case"SHOULD_SAMPLE_LATENCY":return c(c({},t),{},{shouldSampleLatency:e.value});case"SHOULD_SAMPLE_FEATURES":return c(c({},t),{},{shouldSampleFeatures:e.value});case"SHOULD_USE_TEST_BID_ENDPOINT":return c(c({},t),{},{shouldUseTestBidEndpoint:e.value});default:return c({},t)}}(r.experiments,a),gamSlotFetchLog:(n=r.gamSlotFetchLog,"LOG_GAM_EVENT"!==(e=a).type?u(n):[].concat(u(n),[c({},e.event)])),gamSlotRenderPixel:(n=r.gamSlotRenderPixel,"UPDATE_RENDER_OFFSETS"!==(e=a).type?c({},n):c(c({},n),e.offsets)),hosts:(n=r.hosts,"SET_HOST"!==(e=a).type?c({},n):c(c({},n),{},s({},e.hostName,e.hostValue))),identityState:(n=r.identityState,"RECORD_IDENTITY_STATE"!==(e=a).type?n:c(c({},n),{},s({},e.vendor,Object(i.m)(n,e.vendor)?n[e.vendor]:e.identityState))),libraryLoadCallLatency:(n=r.libraryLoadCallLatency,"RECORD_LIBRARY_LOAD_CALL_LATENCY"!==(e=a).type?n:e.latency),Q:(n=r.Q,"SET_Q"!==(e=a).type?u(n):u(e.Q)),slotBids:function(t,e){switch(e.type){case"BID_STATE_CHANGE":return c(c({},t),{},s({},e.slotID,t[e.slotID].map((function(t){return t._targetingSetID===e._targetingSetID&&(t.bidState=e.bidState,e.bidState===o.c.rendered?t.timing.renderTime=e.ts:e.bidState===o.c.set&&t.timing.setAtTimes.push(e.ts)),t}))));case"UPDATE_BID_INFO_PROP":return void 0===t[e.slotID]||t[e.slotID].filter((function(t){return t.matchesBidCacheId(e.iid)})).length<1?c({},t):c(c({},t),{},s({},e.slotID,t[e.slotID].map((function(t){return t.matchesBidCacheId(e.iid)&&(t[e.key]=e.value),t}))));case"UPDATE_SLOT_BIDS":return c(c({},t),e.bids.reduce((function(e,n){return Object(i.m)(e,n.slotID)?e[n.slotID]=[].concat(u(e[n.slotID]),[n]):Object(i.m)(t,n.slotID)?e[n.slotID]=[].concat(u(t[n.slotID]),[n]):e[n.slotID]=[n],e}),{}));default:return c({},t)}}(r.slotBids,a),sync917:(n=r.sync917,"SET_SYNC_917"!==(e=a).type?n:e.value),targetingKeys:(t=r.targetingKeys,"UPDATE_SLOT_BIDS"!==(n=a).type?c({},t):c(c({},t),n.bids.reduce((function(e,n){return Object(i.m)(t,n.slotID)?e[n.slotID]=[].concat(u(t[n.slotID]),u((n.bidConfig.targeting||o.i).filter((function(e){return-1===t[n.slotID].indexOf(e)})))):e[n.slotID]=n.bidConfig.targeting||o.i,e}),{}))),tcfParseTime:(e=r.tcfParseTime,"RECORD_TCF_PARSE_TIME"!==(n=a).type?e:n.time),outstream:function(t,e){switch(e.type){case"RECORD_OUTSTREAM_RENDER_START_TIME":return c(c({},t),{},{renderStart:e.time});case"OUTSTREAM_SHOULD_SAMPLE":return c(c({},t),{},{shouldSample:e.shouldSample});default:return t}}(r.outstream,a),consentManagementPlatform:function(t,e){switch(e.type){case"RECORD_CMP_LISTENED_TO":return c(c({},t),{},{isListenedTo:e.isListenedTo});case"RECORD_CMP_CONSENT_DATA":return c(c({},t),{},{tcData:e.tcData});default:return t}}(r.consentManagementPlatform,a)}}var b={getState:function(){return r},dispatch:function(t){r=f(r,t)}};(b=Object(n.d)("redux")&&Object(e.a)()&&Object(i.m)(window,"__REDUX_DEVTOOLS_EXTENSION__")?window.__REDUX_DEVTOOLS_EXTENSION__(f):b).dispatch({type:"NOOP"})},function(t,e,n){"use strict";n.d(e,"f",(function(){return p})),n.d(e,"c",(function(){return v})),n.d(e,"d",(function(){return S})),n.d(e,"b",(function(){return _})),n.d(e,"a",(function(){return E})),n.d(e,"g",(function(){return D})),n.d(e,"e",(function(){return I}));var r=n(4),o=n(2),i=n(7),a=n(0),c=n(1),s=n(8),u=n(13),d=n(9),l=[],f=!1,b=[];function p(t){var e=new Image;return e.src=t,b.push(e),e}!0===Object(i.c)("exposePixels")&&(window.apstagPixelQueue=l,window.apstagPixelsSent=b);var m,y={adServer:[],ampAdContext:[],appended:[],AaxSlotSizes:[],bidRender:[],bidRenderState:[],bidType:[],"blockedBidders-fetchBids":[],"blockedBidders-init":[],ccpa:[],cmpVar:[],creativeSize:[],deals:[],fetchBids:[],fifFlow:[],customFloor:[],gdpr:[],id:[],idRemap:[],iframe:[],renderFootprint:[],resizeIframe:[],schain:[],simplerGpt:[],slots:[],slotType:[],targeting:[],tcfVar:[],unusedDeal:[],useSafeFrames:[],library:[],trustToken:[],hasLocalStorage:[]},g=[],h=!1;function O(){h&&(clearTimeout(m),h=!1),Object(a.c)(g,5).forEach((function(t){_({_type:"featureUsage",p:t,u:Object(s.g)(window)})})),g=[]}function j(){h||(h=!0,m=setTimeout(O,2e3))}function v(t,e){try{return!!o.a.getState().experiments.shouldSampleFeatures&&(void 0!==y[t]&&!Object(a.j)(y[t],e)&&(y[t].push(e),g.push({cat:t,feat:e}),f&&j(),!0))}catch(t){return Object(c.b)(t,"sendFeaturePixel"),!1}}function S(){try{var t,e,n,r=o.a.getState().libraryLoadCallLatency,i=Object(u.c)(window,new RegExp("aax2/apstag.js"));null===i&&0===r||(t=Object(u.e)(window,"navigationStart"),e={_type:"libLatency",pid:d.b,ns:t},null!==i&&(e.fs=Object(u.a)(i,"fetchStart"),e.re=Object(u.a)(i,"responseEnd"),null!==(n=Object(u.f)(i))&&(e.c=n?1:0)),0!==r&&(e.tcc=r),_(e))}catch(t){Object(c.b)(t,"sendInitLatencyPixel")}}function w(t){try{var e;return f?(e=function(){try{var t=o.a.getState(),e=t.cfg.PIXEL_PATH,n=t.hosts.DEFAULT_AAX_PIXEL_HOST,a=Object(i.c)("pixelHost",n);return"".concat(r.s).concat(a).concat(e)}catch(t){return Object(c.b)(t,"buildPixelBaseUrl"),""}}(),void 0===t.bidId?e+="p/PH/":e+="".concat(t.bidId,"/"),p(e+=function(t){try{t._tl="aps-tag";var e=o.a.getState(),n=null,i="";Object(a.m)(e,"config")&&Object(a.m)(e.config,"pubID")&&""!==e.config.pubID&&(n=e.config.isSelfServePub,i=e.config.pubID),null!==n&&(n?(t.src=r.t,t.pubid=i):t.src=i),t.lv=r.l;var s=function(t){try{return t.replace(/\\.{1}/g,"")}catch(t){return Object(c.b)(t,"escapeJsonForAax"),""}}(JSON.stringify(t));return encodeURIComponent(s)}catch(t){return Object(c.b)(t,"objectToUrlPath"),""}}(t.payload))):(l.push(t),!1)}catch(t){return Object(c.b)(t,"sendPixel"),!1}}function _(t){return w({payload:t})}function E(t,e){return w({payload:e,bidId:t})}function D(){try{if(f)return;f=!0,l.forEach(w),0<g.length&&j()}catch(t){Object(c.b)(t,"sendPixels")}}function I(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;try{return w({payload:{_type:"outstreamRender",bi:e,loc:t,lt:n}})}catch(t){return Object(c.b)(t,"outstreamPixel"),!1}}!0===Object(i.c)("exposePixels")&&(window.apstagFeaturePixelQueue=g)},function(t,e,n){"use strict";n.d(e,"i",(function(){return c})),n.d(e,"x",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"h",(function(){return u})),n.d(e,"w",(function(){return d})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"d",(function(){return b})),n.d(e,"p",(function(){return p})),n.d(e,"n",(function(){return m})),n.d(e,"e",(function(){return y})),n.d(e,"m",(function(){return g})),n.d(e,"o",(function(){return o})),n.d(e,"v",(function(){return h})),n.d(e,"j",(function(){return i})),n.d(e,"u",(function(){return a})),n.d(e,"t",(function(){return O})),n.d(e,"l",(function(){return j})),n.d(e,"s",(function(){return v})),n.d(e,"b",(function(){return S})),n.d(e,"k",(function(){return w})),n.d(e,"a",(function(){return _})),n.d(e,"r",(function(){return E})),n.d(e,"q",(function(){return D})),n.d(e,"z",(function(){return I})),n.d(e,"y",(function(){return T}));var r,o,i,a,c=["amznbid","amzniid","amznsz","amznp"],s=["amznbid","amzniid","amznp","r_amznbid","r_amzniid","r_amznp"],u=((n=r=r||{}).new="NEW",n.exposed="EXPOSED",n.set="SET",n.rendered="RENDERED","apstagDebug"),d=["redux","fake_bids","verbose","console","console_v2","errors"],l="apstagDebugHeight",f="apstagDEBUG",b="apstagCfg",p=0,m=0,y="apstagCxMEnabled",g="apstagLiveRampTimestamp",h=((e=o=o||{}).amznbid="testBid",e.amzniid="testImpression",e.amznp="testP",e.crid="testCrid",["amznbid","amznp"]),O=((n=i=i||{}).__apsid="ck",n.__aps_id_p="ckp",n.aps_ext_917="st",(e=a=a||{}).noRequest="0",e.bidInFlight="1",e.noBid="2","600"),j="22.8.252032",v="https://",S="".concat(v,"aax.amazon-adsystem.com/e/dtb/vast?"),w="function"==typeof XMLHttpRequest&&void 0!==(new XMLHttpRequest).withCredentials,_="apstagLOADED",E=13,D=1e4,I=/^1[NY\-]{3}$/,T='<!DOCTYPE html>\n <html>\n     <head>\n         <title>APS Video Ads</title>\n         <script src="https://dcqi4aodgg8tv.cloudfront.net/apsvideoplayersdk/latest/apsvid.js"><\/script>\n     </head>\n     <body>\n         <div id="amazon-ads-container" style="height: 100%; width: 100%; position: absolute;">\n         </div>\n         <script type="text/javascript">\n           const adsContainer = document.querySelector("#amazon-ads-container")\n           const amazonVideoAds = new window.AmazonVideoAds(adsContainer, $$videoPlayerProps$$);\n           window.adsM;\n\n           function addListeners(adsM, amazonVideoAds) {\n            adsM.addListener(amazonVideoAds.eventNames.AdVideoPlayerEvents.COMPLETED, (e) => {\n              window.top.postMessage({"apsVideoPlayer": true, "event": "completed"}, window.top.location.origin);\n            })\n            adsM.addListener(amazonVideoAds.eventNames.AdVideoPlayerEvents.LOADED, (e) => {\n              window.top.postMessage({"apsVideoPlayer": true, "event": "loaded"}, window.top.location.origin);\n            })\n        }\n \n           window.requestAndPlay = () => {\n             amazonVideoAds.fetchAds("$$apstagVastTag$$")\n               .then(adsManager => {\n \n                 adsM = adsManager;\n \n                 adsM.init({\n                    fullscreen: true,\n                    muted: true,\n                    volume: .3,\n                    autoplay: false,\n                    controls: false,\n                    preload: "auto"\n                 })\n\n                 addListeners(adsM, amazonVideoAds);\n                 adsM.startAds(2000, {shouldVideoRemainAfterPlay: true});\n                 \n               })\n               .catch(function(err) {\n                 console.log("apstag failed to get APS ads manager", err);\n               });\n           }\n \n          requestAndPlay();\n\n         <\/script>\n     </body>\n </html>'},function(t,e,n){"use strict";var r,o;function i(t){return void 0!==t.amzniid}function a(t){return void 0!==t.kvMap}n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),(n=r=r||{}).DISPLAY="display",n.VIDEO="video",n.MULTI_FORMAT="multi-format",(e=o=o||{}).MANAGED_WEB="mw",e.SELF_SERVE_WEB="ssw"},function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return k}));var r=n(19),o=n(0),i=n(1),a=(e=n(16),n(5));function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);n=e?(n=p(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===c(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(r)}}(r);function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");var e={slotID:t.targetId,slotName:Object(o.m)(t,"invCode")?t.invCode:Object(o.m)(t,"tagId")?t.tagId:t.targetId};return m(b(e=n.call(this,e)),"rawSlot",void 0),e.rawSlot=t,e}return e=r,(t=[{key:"mediaType",get:function(){return a.a.DISPLAY}},{key:"sizes",get:function(){try{return this.rawSlot.sizes}catch(t){return this.reportError(t,"sizes"),[]}}},{key:"aaxSlot",get:function(){try{var t=u(u({},l(p(r.prototype),"aaxSlot",this)),{},{sd:this.slotID,s:this.sizes.filter(o.k).map((function(t){return t.join("x")}))});return this.slotID!==this.slotName&&(t.sn=this.slotName),t}catch(t){return{sd:"",s:[],kv:{}}}}},{key:"reportError",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];Object(i.b)(t,"ApnSlot-".concat(e),n)}},{key:"isValid",value:function(){return!(!l(p(r.prototype),"isValid",this).call(this)||0===this.sizes.length&&(this.reportIsValidMessages(["'sizes' must have at least 1 valid item"],!0),1))}},{key:"initKeywords",value:function(){try{Object(o.m)(this.rawSlot,"keywords")||(this.rawSlot.keywords={})}catch(t){this.reportError(t,"initKeywords")}}},{key:"setTargeting",value:function(t,e){try{this.initKeywords(),this.rawSlot.keywords[t]=e}catch(t){this.reportError(t,"setTargeting")}}},{key:"getTargeting",value:function(t){try{return this.initKeywords(),Object(o.m)(this.rawSlot.keywords,t)?[this.rawSlot.keywords[t]]:[]}catch(t){return this.reportError(t,"getTargeting"),[]}}},{key:"clearTargeting",value:function(t){try{this.initKeywords(),delete this.rawSlot.keywords[t]}catch(t){this.reportError(t,"clearTargeting")}}}])&&d(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}(e.a);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);n=e?(n=v(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===g(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return j(r)}}(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o,i,a=arguments.length,c=new Array(a),s=0;s<a;s++)c[s]=arguments[s];return i=!0,(o="isSupported")in(e=j(t=n.call.apply(n,[this].concat(c))))?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return e=r,(t=[{key:"reportError",value:function(t,e){Object(i.b)(t,"AppNexusAdServer-".concat(e))}},{key:"cmdQueuePush",value:function(t){try{window.apntag.anq.push(t)}catch(t){this.reportError(t,"cmdQueuePush")}}},{key:"setTargeting",value:function(t,e){try{if(!Object(o.m)(window,"apntag")||!Object(o.m)(window.apntag,"requests"))return;Object(o.m)(window.apntag.requests,"keywords")||(window.apntag.requests.keywords={}),window.apntag.requests.keywords[t]=e}catch(t){this.reportError(t,"setTargeting")}}},{key:"getTargeting",value:function(t){try{if(!Object(o.m)(window,"apntag")||!Object(o.m)(window.apntag,"requests"))return[];Object(o.m)(window.apntag.requests,"keywords")||(window.apntag.requests.keywords={});var e=window.apntag.requests.keywords[t];return void 0===e?[]:[e]}catch(t){return this.reportError(t,"getTargeting"),[]}}},{key:"clearTargeting",value:function(t){try{Object(o.m)(window,"apntag")&&Object(o.m)(window.apntag,"requests")&&Object(o.m)(window.apntag.requests,"keywords")&&delete window.apntag.requests.keywords[t]}catch(t){this.reportError(t,"clearTargeting")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(o.m)(window,"apntag")&&Object(o.m)(window.apntag,"loaded")&&!0===window.apntag.loaded}catch(t){return this.reportError(t,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(o.m)(window,"apntag")&&Object(o.m)(window.apntag,"anq")}catch(t){return this.reportError(t,"isCommandQueueDefined"),!1}}},{key:"getSlots",value:function(){try{var t=[];return Object(o.m)(window,"apntag")&&Object(o.m)(window.apntag,"requests")&&Object(o.m)(window.apntag.requests,"tags")&&Object(o.l)(window.apntag.requests.tags)&&Object.keys(window.apntag.requests.tags).forEach((function(e){e=window.apntag.requests.tags[e],t.push(new y(e))})),t}catch(t){return this.reportError(t,"getSlots"),[]}}}])&&h(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}(r.a),w=n(25);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function P(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);n=e?(n=T(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===_(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return I(r)}}(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return P(I(t=n.call.apply(n,[this].concat(i))),"isSupported",!0),P(I(t),"needNewBidObject",!0),t}return e=r,(t=[{key:"reportError",value:function(t,e){Object(i.b)(t,"SmartAdServer-".concat(e))}},{key:"cmdQueuePush",value:function(t){try{window.sas.cmd.push(t)}catch(t){this.reportError(t,"cmdQueuePush")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(o.m)(window,"sas")&&Object(o.m)(window.sas,"__smartLoaded")&&!0===window.sas.__smartLoaded}catch(t){return this.reportError(t,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(o.m)(window,"sas")&&Object(o.m)(window.sas,"cmd")}catch(t){return this.reportError(t,"isCommandQueueDefined"),!1}}}])&&E(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),r}(r.a),R=n(3),C=new r.a;function k(t){try{switch(t){case"appnexus":Object(R.c)("adServer",t),C=new S;break;case"googletag":Object(R.c)("adServer",t),C=new w.a;break;case"sas":Object(R.c)("adServer",t),C=new A;break;default:"string"==typeof t?Object(R.c)("adServer","invalid-".concat(t)):Object(R.c)("adServer","none"),C=new r.a}}catch(t){Object(i.b)(t,"setDisplayAdServer")}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return g})),n.d(e,"d",(function(){return E})),n.d(e,"c",(function(){return I})),n.d(e,"e",(function(){return P}));var r=n(2),o=n(14),i=n(0),a=n(4),c=n(10),s=n(3),u=n(1),d=["getLog","getState"];function l(t,e,n){try{switch(Object(i.j)(d,t)&&(Object(u.b)(new Error("Debug call made: ".concat(t)),"debugPublicApi-call-".concat(t)),d=d.filter((function(e){return e!==t}))),t){case"getLog":return r.a.getState().eventLog;case"getState":return r.a.getState();case"enable":return D("fake_bids",!0),"DEBUG MODE ENABLED";case"disable":return D("fake_bids",!1),"DEBUG MODE DISABLED";case"enableConsole":return g(!1,"command"),"Debug console enabled";case"enableConsoleV2":return g(!0,"command"),"Debug console v2 enabled";case"disableConsole":try{D("console",!1),D("console_v2",!1),null!==f&&document.body.removeChild(f),y=!1,Object(o.a)()&&window.localStorage.removeItem(a.f)}catch(e){Object(u.b)(e,"disableDebugConsole",!0)}return"Debug console disabled";case"setDebug":return(D(e,n)?"Set debug mode '":"Failed to set debug mode '").concat(e,"' to '").concat(n,"'");default:return"unknown debug argument"}}catch(e){return Object(u.b)(e,"debugPublicApi",!0),"error"}}var f,b,p,m,y=!1;function g(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length?arguments[1]:void 0;try{if(D(t?"console_v2":"console",!0),y)return;var n={url:t?r.a.getState().cfg.DEBUG_APP_HTML_V2:r.a.getState().cfg.DEBUG_APP_HTML,onload:h,onerror:function(){return Object(u.b)(new Error("Error Loading Debug Console"),"enableDebugConsole-".concat(t?"v2":"v1","-onerror"),!0)}};Object(c.d)(n),setTimeout((function(){try{var n={_type:"debugLoad",mode:t?2:1};Object(i.m)(r.a.getState().config,"pubID")&&(n.src=r.a.getState().config.pubID),null!==e&&(n.method=e),Object(s.b)(n)}catch(n){Object(u.b)(n,"enableDebugConsole-setTimeout",!0)}}),5e3)}catch(n){Object(u.b)(n,"enableDebugConsole",!0)}}function h(t){try{var e=t.responseText,n=(f=document.createElement("div"),b=document.createElement("div"),p=document.createElement("iframe"),200);E("console_v2")&&(n=330),Object(o.a)()&&null!==window.localStorage.getItem(a.f)&&(n=parseInt(window.localStorage.getItem(a.f),10)),(isNaN(n)||n>window.innerHeight)&&(n=200),f.style.background="#eaeded",f.style.zIndex="2147483647",f.style.bottom="0",f.style.position="fixed !important",f.style.display="block !important",f.style.left="0",f.style.right="0",f.style.height="".concat(n,"px"),b.style.cursor="row-resize",b.style.height="2px",b.style.position="absolute",b.style.top="0",b.style.left="0",b.style.right="0",b.style.backgroundColor="RGBA(0,0,0,0)",f.appendChild(b),p.frameBorder="0",p.marginHeight="0",p.marginWidth="0",p.scrolling="no",p.id="apstag-debug-iframe",p.src="about:blank",p.style.display="block",p.style.width="100%",p.style.height="".concat(n,"px"),f.appendChild(p),document.body.appendChild(f),null!==p.contentDocument&&(p.contentDocument.open(),p.contentDocument.write(e),p.contentDocument.close()),b.addEventListener("mousedown",v)}catch(t){Object(u.b)(t,"renderDebugConsole",!0)}}function O(t){try{var e=window.innerHeight-t.clientY;return e<200&&(e=200),f.style.height="".concat(e,"px"),p.style.height="".concat(e,"px"),e}catch(t){return Object(u.b)(t,"resizeDebugConsole",!0),200}}function j(t){try{return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1}catch(t){return Object(u.b)(t,"preventEvent",!0),!1}}function v(){try{void 0===m&&((m=document.createElement("div")).style.position="fixed",m.style.left="0",m.style.right="0",m.style.top="0",m.style.bottom="0",m.style.zIndex="9999999999"),f.appendChild(m),window.addEventListener("mouseup",w),window.addEventListener("mousemove",S)}catch(t){Object(u.b)(t,"resizeBarMouseDownListener",!0)}}function S(t){try{return O(t),j(t)}catch(t){return Object(u.b)(t,"resizeBarMouseMoveListener",!0),!1}}function w(t){try{null!==m&&f.removeChild(m),window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",w);var e=O(t);return Object(o.a)()&&window.localStorage.setItem(a.f,"".concat(e)),j(t)}catch(t){return Object(u.b)(t,"resizeBarMouseUpListener",!0),!1}}function _(){try{if(!Object(o.a)())return[];var t=window.localStorage.getItem(a.h),e=(null===t||"false"===t?t="[]":"true"===t&&(t='["fake_bids"]'),[]);try{e=JSON.parse(t)}catch(t){}return(e=Object(i.k)(e)?e:[]).filter((function(t){return Object(i.j)(a.w,t)}))}catch(t){return Object(u.b)(t,"getCurrentDebugArray"),[]}}function E(t){try{return Object(i.j)(_(),t)}catch(t){return Object(u.b)(t,"isDebugEnabled"),!1}}function D(t,e){try{if(!Object(o.a)())return;if(-1===a.w.indexOf(t))return;var n=_();return e&&-1===n.indexOf(t)?n.push(t):e||(n=n.filter((function(e){return e!==t}))),0===n.length?window.localStorage.removeItem(a.h):window.localStorage.setItem(a.h,JSON.stringify(n)),P(),1}catch(e){return void Object(u.b)(e,"setDebugMode")}}function I(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;try{if(Object(i.m)(window,a.g)&&Object(i.m)(window[a.g],t))return window[a.g][t]}catch(t){Object(u.b)(t,"getDebugValue")}return e}var T=[];function P(){try{_().filter((function(t){return-1===T.indexOf(t)})).forEach((function(t){Object(u.b)(new Error("Debug method enabled: ".concat(t)),"debugPublicApi-enabled-".concat(t),!0),T.push(t)}))}catch(t){Object(u.b)(t,"pixelDebugModes")}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"j",(function(){return f})),n.d(e,"g",(function(){return b})),n.d(e,"h",(function(){return p})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return g})),n.d(e,"i",(function(){return O})),n.d(e,"b",(function(){return j})),n.d(e,"a",(function(){return v})),n.d(e,"k",(function(){return S}));var r=n(7),o=n(0),i=n(14),a=n(1),c=n(4),s=n(2),u=n(3);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){try{return t.split("_").pop()}catch(t){return Object(a.b)(t,"getAmpAmznBidValue"),""}}function f(t){try{return!Object(o.m)(t,"slots")}catch(t){return Object(a.b)(t,"isAAXPunt"),!0}}function b(t){try{var e,n=Object(r.c)("url");if(null!==n)return encodeURIComponent(n);try{S(t,!1)?(Object(u.c)("ampAdContext","getCurrentUrl"),e=null,t.context&&(e=t.context.canonicalUrl||t.context.sourceUrl)):e=t.top.location.href}catch(t){e=null}if(null===e||!e||void 0===e){e="";try{t.top!==t.self&&(e=t.document.referrer)}catch(t){}}return encodeURIComponent(e)}catch(t){return Object(a.b)(t,"getCurrentUrl"),""}}function p(t){try{var e,n="",o=Object(r.c)("url");if(null!==o)return encodeURIComponent(o);try{try{e=S(t,!1)?(Object(u.c)("ampAdContext","getReferrerUrl"),(t.context||t.top.document).referrer):t.top.document.referrer}catch(n){e=t.document.referrer}n=encodeURIComponent(e)}catch(n){}return n}catch(n){return Object(a.b)(n,"getReferrerUrl"),""}}function m(){try{var t={cookiesParams:""};return Object(o.d)().forEach((function(e){e[0]in c.j&&("aps_ext_917"===e[0]?t.fb=e[1]:t.cookiesParams+="&".concat(c.j[e[0]],"=").concat(e[1]))})),t.fb||s.a.getState().sync917||s.a.dispatch({type:"SET_SYNC_917",value:!0}),t}catch(t){return Object(a.b)(t,"getApsFirstPartyCookies"),{cookiesParams:""}}}function y(t){try{var e=s.a.getState().config.blockedBidders,n=(Object(o.m)(t,"blockedBidders")&&Object(o.k)(t.blockedBidders)&&(e=t.blockedBidders),"");return Object(o.k)(e)?JSON.stringify(e):n}catch(t){return Object(a.b)(t,"getBlockedBidders",!0),""}}function g(){try{if(!Object(i.a)())return c.p;var t=s.a.getState();return Object(o.m)(t,"cfg")&&Object(o.m)(t.cfg,"v")&&-1!==t.cfg.v?t.cfg.v:null}catch(t){return Object(a.b)(t,"getCfgVersion"),null}}function h(t){try{if(-1===["string","number"].indexOf(d(t)))return!1;var e=Math.floor(Number(t));if(e>c.n)return e}catch(t){Object(a.b)(t,"parseTimeout",!0)}return!1}function O(t,e){try{var n=h(t.timeout);return!1===(n=!1===n?h(e.config.bidTimeout):n)?h(e.cfg.DEFAULT_TIMEOUT):n}catch(t){return Object(a.b)(t,"getTimeout",!0),2e3}}function j(t,e){var n,r=!1;function o(e){if(!r)try{t(e)}catch(e){Object(a.b)(e,"executeFunctionOnceWithTimeout-wrappedFunction",!0)}clearTimeout(n),r=!0}try{return n=setTimeout(o,e,!0),o.bind(null,!1)}catch(e){return Object(a.b)(e,"executeFunctionOnceWithTimeout",!0),function(){}}}function v(t){var e=!1;return function(n){if(!e)try{t(n)}catch(n){Object(a.b)(n,"executeFunctionOnceWithTimeout-wrappedFunction",!0)}e=!0}}function S(t,e){try{var n=e?t.AMP_CONTEXT_DATA:t.context;return Boolean(n&&Object(o.m)(n,"tagName")&&"AMP-AD"===n.tagName)}catch(t){return Object(a.b)(t,"isInAmpAd"),!1}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return _})),n.d(e,"h",(function(){return E})),n.d(e,"d",(function(){return D})),n.d(e,"g",(function(){return I})),n.d(e,"c",(function(){return T})),n.d(e,"f",(function(){return P})),n.d(e,"e",(function(){return A}));var r=n(2),o=n(7),i=n(4),a=n(0),c=n(10),s=n(1),u=n(8),d=n(12),l=n(5),f=n(18),b=n(3),p=n(11),m=n(15);function y(t){return function(t){if(Array.isArray(t))return j(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function O(t,e){if(t){if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(t,e):void 0}}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");S(this,"bidConfig",void 0),S(this,"bidState",i.c.new),S(this,"_targetingSetID",void 0),S(this,"timing",{setAtTimes:[]}),S(this,"pixelSent",!1),S(this,"useSafeFrames",!1),S(this,"bidReqID",""),S(this,"host",void 0),S(this,"ev",void 0),S(this,"cfe",void 0),S(this,"isAmp",!1),S(this,"doc",void 0),S(this,"inheritSize",void 0),this.bidConfig=e,this._targetingSetID=Object(a.f)(),r.a.getState().config.useSafeFrames&&(this.useSafeFrames=!0),this.useSafeFrames&&Object(a.m)(e,"targeting")&&e.targeting.push("amznhost"),Object(a.m)(e,"meta")?Object(a.k)(e.meta)||(this.reportError({name:"TypeError",message:"'meta' is not an 'array': ".concat(JSON.stringify(e.meta))},"constructor-meta"),e.meta=[]):e.meta=[];try{var n="d",o=(this.bidConfig.mediaType!==l.a.VIDEO&&"v"!==this.bidConfig.mediaType||(n="v"),[]);Object(a.m)(this.bidConfig,"amzndeals")&&(Object(b.c)("bidType","".concat(n,"-amzndeals")),o=this.bidConfig.amzndeals.map((function(t){return"".concat(t,"amzniid")}))),this.bidConfig.targeting.filter((function(t){return-1!==t.indexOf("amzniid")&&!Object(a.j)(o,t)})).forEach((function(t){return Object(b.c)("bidType","".concat(n,"-").concat(t))})),Object(a.m)(this.bidConfig,"fif")&&"1"===this.bidConfig.fif?Object(b.c)("bidRender","friendly"):Object(b.c)("bidRender","unfriendly")}catch(e){this.reportError(e,"pixeling")}}var e,n;return e=t,(n=[{key:"reportError",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];Object(s.b)(t,"Bid-".concat(e),n)}},{key:"mediaType",get:function(){var t="d";return this.bidConfig.mediaType!==l.a.VIDEO&&"v"!==this.bidConfig.mediaType&&"v"!==this.bidConfig.mediaType_sp?t:l.a.VIDEO}},{key:"targeting",get:function(){var t=this;try{return this.bidConfig.targeting.map((function(e){return"amznhost"===e?[e,encodeURIComponent(t.host)]:Object(a.m)(t.bidConfig,e)&&Object(a.k)(t.bidConfig[e])?[e,encodeURIComponent(t.bidConfig[e].join(","))]:Object(a.m)(t.bidConfig,e)?[e,encodeURIComponent(t.bidConfig[e])]:[e,""]})).map((function(t){var e=(t=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t,2))[0];t=t[1];return"&".concat(e,"=").concat(t)})).join("")}catch(t){return this.reportError(t,"targeting"),""}}},{key:"bidObject",get:function(){try{var t={slotID:this.bidConfig.slotID,amzniid:this.bidConfig.amzniid,amznbid:this.bidConfig.amznbid,amznp:this.bidConfig.amznp,amznsz:this.bidConfig.amznsz,size:this.bidConfig.amznsz};return this.mediaType===l.a.VIDEO&&(t.mediaType=l.a.VIDEO,t.qsParams=this.targeting,t.encodedQsParams=encodeURIComponent(this.targeting),t.r_amznbid=this.bidConfig.r_amznbid,t.r_amzniid=this.bidConfig.r_amzniid,t.r_amznp=this.bidConfig.r_amznp),this.useSafeFrames&&(t.amznhost=this.host),t}catch(t){return this.reportError(t,"bidObject",!0),{slotID:"",amzniid:"error",amznbid:"error",amznp:"error",amznsz:"error",size:"error"}}}},{key:"newBidObject",get:function(){var t=this;try{var e={slotID:this.bidConfig.slotID,size:this.bidConfig.amznsz,mediaType:this.mediaType,targeting:{},helpers:{targetingKeys:this.bidConfig.targeting,qsParams:function(){return t.targeting},encodedQsParams:function(){return encodeURIComponent(t.targeting)}}},n=["slotID","size","mediaType"];return this.bidConfig.meta.filter((function(t){return-1===n.indexOf(t)})).forEach((function(n){e[n]=t.bidConfig[n]})),this.bidConfig.targeting.forEach((function(n){e.targeting[n]="amznhost"===n?t.host:t.bidConfig[n]})),void 0!==this.slotID&&-1!==this.slotID.indexOf("_")&&(e.sasTargeting=e.helpers.targetingKeys.map((function(n){return"".concat(n,"_").concat(t.slotID.split("_")[1],"=").concat(e.targeting[n])})).join(";")),e}catch(t){return this.reportError(t,"newBidObject",!0),{slotID:"",size:"",mediaType:"d",targeting:{},helpers:{targetingKeys:[],qsParams:function(){return""},encodedQsParams:function(){return""}}}}}},{key:"slotID",get:function(){try{return this.bidConfig.slotID}catch(t){return this.reportError(t,"slotID"),""}}},{key:"matchesBidCacheId",value:function(t){var e=this;try{return this.bidConfig.targeting.reduce((function(n,r){return n||-1!==r.indexOf("amzniid")&&e.bidConfig[r]===t}),!1)}catch(t){return this.reportError(t,"matchesBidCacheId"),!1}}}])&&v(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),_=Object(a.g)(i.r);function E(t){var e="validateSupplyChainObject",n=!1;function r(t,r){return Object(s.b)({name:"TypeError",message:r},"".concat(e,"-").concat(t),!0),!(n=!0)}try{return Object(a.l)(t)?(Object(a.m)(t,"complete")?-1===[1,0].indexOf(t.complete)&&r("schain-complete-type","The `schain.complete` property must be a `1` or `0`"):r("schain-complete","The `schain.complete` property must be provided"),Object(a.m)(t,"ver")?Object(p.b)(t.ver,["string"])||r("schain-ver-type","The `schain.ver` property must be a string"):r("schain-ver","The `schain.ver` property must be provided"),Object(a.m)(t,"nodes")?Object(a.k)(t.nodes)?t.nodes.reduce((function(t,e){return Object(a.l)(e)?(Object(a.m)(e,"asi")?Object(p.b)(e.asi,["string"])||r("schain-node-asi-type","All `schain.nodes` items must have an `asi` property of type `string`"):r("schain-node-asi","All `schain.nodes` items must have an `asi` property"),Object(a.m)(e,"sid")?Object(p.b)(e.sid,["string"])||r("schain-node-sid-type","All `schain.nodes` items must have an `sid` property of type `string`"):r("schain-node-sid","All `schain.nodes` items must have an `sid` property"),Object(a.m)(e,"hp")?-1===[1,0].indexOf(e.hp)&&r("schain-node-hp-type","All `schain.nodes` items must have an `hp` property which is `1` or `0`"):r("schain-node-hp","All `schain.nodes` items must have an `hp` property"),Object(p.b)(e.rid,["string","undefined"])||r("schain-node-rid-type","If provided, the `rid` property on an `schain.nodes` item must be of type `string`"),Object(p.b)(e.name,["string","undefined"])||r("schain-node-name-type","If provided, the `name` property on an `schain.nodes` item must be of type `string`"),Object(p.b)(e.domain,["string","undefined"])||r("schain-node-domain-type","If provided, the `domain` property on an `schain.nodes` item must be of type `string`"),t&&!n):r("schain-node-type","All `schain.nodes` items must be objects")}),!n):r("schain-nodes-type","The `schain.nodes` property must be an `Array`"):r("schain-nodes","The `schain.nodes` property must be provided")):r("schain","The `schain` value must be an object")}catch(t){return Object(s.b)(t,e,!0),!1}}function D(t,e,n,d){try{var p,g=r.a.getState(),O={},j=Object(o.c)("host",g.hosts.DEFAULT_AAX_BID_HOST),v=g.cfg.DTB_PATH,S="bid",w=(g.experiments.shouldUseTestBidEndpoint&&null!==g.cfg.TEST_BID_ENDPOINT&&(S=g.cfg.TEST_BID_ENDPOINT),{src:g.config.pubID,u:Object(u.g)(window),pr:Object(u.h)(window),pid:_,cb:t.bidReqID,ws:Object(a.i)(window),v:i.l,t:e,slots:function(t){try{return Object(c.c)(t.map((function(t){var e;if(Object(a.m)(t,"mediaType")&&t.mediaType===l.a.VIDEO||t.mediaType===l.a.MULTI_FORMAT)e=t.aaxSlot;else{if(!(Object(a.m)(t,"sizes")&&0<t.sizes.length&&Object(a.m)(t,"slotID")))return Object(s.b)({name:"SlotError",message:"There was an error with the configuration for this slot: ".concat(JSON.stringify(t.rawSlot))},"buildSlotsUrlParam-invalidSlot",!0),{id:"ERROR",mt:f.a.VIDEO,error:!0};var n=t.aaxSlot;Object(a.m)(t,"slotName")&&t.slotName!==t.slotID?(Object(b.c)("idRemap","y"),n.sd=t.slotID,n.sn=t.slotName):Object(b.c)("idRemap","n"),e=n}return e})).filter((function(t){return!0!==t.error})))}catch(t){return Object(s.b)(t,"buildSlotsUrlParam",!0),""}}(t.validSlots),pj:function(t,e){try{var n=Object(a.l)(t.config.params)?t.config.params:{},r=Object(a.l)(e.params)?e.params:{},o=h(h({},n),r);return 0===Object.keys(o).length?"":Object(c.c)(o)}catch(t){return Object(s.b)(t,"getBidParams",!0),""}}(g,t),cfgv:Object(u.f)(),bb:Object(u.e)(t),schain:function(t){try{var e;return Object(a.m)(t.config,"schain")?(e=t.config.schain,encodeURIComponent(["".concat(e.ver,",").concat(e.complete)].concat(y(e.nodes.map((function(t){return["asi","sid","hp","rid","name","domain"].map((function(e){return Object(a.m)(t,e)?t[e]:""})).map((function(t){return encodeURIComponent(t)})).map((function(t){return t.replace(/\!/g,"%21")})).join(",")})))).join("!"))):""}catch(t){return Object(s.b)(t,"getSupplyChainObject",!0),""}}(g)});if("[]"===w.slots||""===w.slots)throw new Error("No slots available for bid request");r.a.dispatch({type:"RECORD_AAX_REQUEST",data:{bidConfig:t,bidReqID:t.bidReqID,timeout:e,ws:w.ws,url:w.u,rqTs:Date.now()}}),g.experiments.chunkRequests&&(p=t.bidReqID.split("-"),r.a.dispatch({type:"RECORD_NETWORK_EXCHANGE",fid:p[0],networkID:parseInt(p[1],10),timestamp:Date.now(),exchangeType:"request"})),g.config.isSelfServePub&&(w.pubid=w.src,w.src=600);var E=Object(u.d)(),D=(E.fb&&(O[917]=E.fb,w[i.j.aps_ext_917]=Object(c.c)(O)),Object(o.c)("bidParams")),I=(Object(a.l)(D)&&(w=h(h({},w),D)),Object(a.l)(n)&&(Object(a.m)(n,"enabled")&&(w.gdpre=encodeURIComponent(n.enabled)),Object(a.m)(n,"consent")&&(w.gdprc=encodeURIComponent(n.consent)),Object(a.m)(n,"log")&&(w.gdprl=Object(c.c)(n.log))),Object(a.m)(g.config,"useSafeFrames")&&g.config.useSafeFrames&&(w.sf="1"),Object(m.b)()),T=(I&&(Object(b.c)("id","bidReq-attachToken"),d.ids.at=I),w.vm=d&&0!==Object.keys(d.ids).length?Object(c.c)({ids:d.ids,md:d.md}):"",Object.keys(w).filter((function(t){return Object(a.m)(w,t)&&"undefined"!==w[t]&&""!==w[t]&&null!==w[t]})).map((function(t){return"".concat(t,"=").concat(w[t])})).join("&")),P=(E.cookiesParams&&(T+=E.cookiesParams),"".concat(i.s).concat(j).concat(v,"/").concat(S,"?").concat(T));return r.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:t.bidReqID,key:"urlLength",value:P.length}),P}catch(t){return Object(s.b)(t,"buildBidUrl",!0),""}}function I(t,e){try{return Object(a.m)(t,"config")&&Object(a.m)(t.config,"deals")&&!0===t.config.deals||!0===e.needNewBidObject}catch(t){return Object(s.b)(t,"isNewBidObjectRequired"),!1}}function T(t,e,n){try{var r=t.map(d.c),o=e.slots.filter(Object(d.d)(l.a.DISPLAY,l.a.MULTI_FORMAT)).map(d.c).filter((function(t){return!Object(a.j)(r,t)})),c=n?i.u.bidInFlight:i.u.noBid;return t.concat(o.map((function(t){return new w({size:"0x0",crid:"",slotID:t,mediaType:"d",meta:["slotID","mediaType","size"],amznbid:c,amzniid:"",amznp:c,amznsz:"0x0",targeting:["amzniid","amznbid","amznp","amznsz"]})})))}catch(e){return Object(s.b)(e,"addStateTrackingBidsToRealBids"),t}}function P(t){try{if(Object(a.j)(r.a.getState().displayAdServer.noBidSlotIDs,t.slotID))return!1;var e=r.a.getState().AAXReqs.filter((function(e){return e.bidReqID===t.bidReqID}))[0];return!(Object(a.m)(e,"rqTs")&&Date.now()-e.rqTs>24e4)&&(!(Object(a.m)(e,"url")&&!Object(a.b)(e.url,Object(u.g)(window)))&&t.bidState!==i.c.rendered)}catch(e){return Object(s.b)(e,"isBidEligible"),!1}}function A(t){try{var e=t.map(d.c),n=r.a.getState();return Object.keys(n.slotBids).filter((function(t){return Object(a.j)(e,t)})).reduce((function(t,e){var o=n.slotBids[e].filter((function(t){return t.bidState===i.c.new})).filter(P);return 0<o.length&&(o=o[o.length-1],r.a.dispatch({type:"BID_STATE_CHANGE",slotID:e,_targetingSetID:o._targetingSetID,bidState:i.c.exposed}),t[e]=o),t}),{})}catch(t){return Object(s.b)(t,"getNewSlotBidsAndExposeForRequestedSlots"),{}}}},function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return s}));var r=n(1);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){var e,n=t.url,i=t.onload,a=t.onerror,c=t.ontimeout,s=t.withCredentials,u=void 0===(u=t.body)?null:u,d=void 0===(e=t.headers)?null:e,l=(t=void 0===(e=t.trustTokenParameter)?null:e,new window.XMLHttpRequest);try{if(""===n)return void(void 0!==a&&a.call(l,"error"));l.onload=i.bind(null,l),void 0!==a&&(l.onerror=a),void 0!==c&&(l.ontimeout=c),void 0!==s&&(l.withCredentials=s);var f=null!==u?"POST":"GET";l.open(f,n),null!==d&&"object"===o(d)&&Object.keys(d).forEach((function(t){l.setRequestHeader(t,d[t])}));try{null!==t&&"object"===o(t)&&window.location===window.parent.location&&l.setTrustToken(t)}catch(t){Object(r.b)(t,"setTrustToken")}l.send(u)}catch(t){void 0!==a&&a.call(l,"error"),Object(r.b)(t,"xhrRequest")}}function a(t,e,n,o){try{if(void 0===n&&(n=document),void 0===t)return"function"==typeof e&&e(!0),!1;var i=n.getElementsByTagName("script")[0]||n.body.firstChild,a=n.createElement("script");if(a.type="text/javascript",a.async=!0,a.src=t,e&&c(a,e),c(a,o||function(){Object(r.b)(new Error("Error Loading Script Tag"),"loadScriptTag-onerror")},[],"onerror"),null!==i.parentNode)return i.parentNode.insertBefore(a,i),!0}catch(t){Object(r.b)(t,"loadScriptTag",!0)}return!1}function c(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"onload";try{return"function"==typeof e&&(t[o]=function(){e.apply(null,n)},!0)}catch(t){return Object(r.b)(t,"addCallbackFunction"),!1}}function s(t){try{return encodeURIComponent(JSON.stringify(t))}catch(t){return Object(r.b)(t,"objToUrlParam"),""}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var r=n(1),o=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){try{return function(t){try{if(!c(t,["number","string"]))return!1;if(isNaN(t))return!1;if("number"==typeof t)return!0;var e=parseInt(t,10);return!isNaN(e)}catch(t){return Object(r.b)(t,"isNumber"),!0}}(t)||void 0===t}catch(t){return Object(r.b)(t,"isNumberOrUndefined"),!0}}function c(t,e){try{return Object(o.j)(e,i(t))}catch(t){return Object(r.b)(t,"isVarOfTypes"),!0}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return s}));var r=n(1),o=n(0);function i(t){var e=[];try{t.hasAdServerObjectLoaded()&&(e=t.getSlots())}catch(t){Object(r.b)(t,"getDisplayAdServerSlots")}return e}function a(t){try{return Object(o.m)(t,"sizes")&&Object(o.k)(t.sizes)&&0!==t.sizes.length}catch(t){return Object(r.b)(t,"doesSlotHaveSizes"),!1}}function c(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){try{return!t.mediaType||-1<e.indexOf(t.mediaType)}catch(t){return Object(r.b)(t,"isSlotOfType"),!0}}}function s(t){try{return t.slotID}catch(t){return Object(r.b)(t,"getSlotID"),""}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"d",(function(){return s}));function r(t,e){try{return"number"!=typeof t[e]?0:Math.round(t[e])}catch(t){return 0}}function o(t,e){try{var n=i(t,e)[0];if(void 0!==n)return n}catch(t){}return null}function i(t,e){try{return t.performance.getEntriesByType("resource").filter((function(t){return e.test(t.name)}))}catch(t){return[]}}function a(t,e){try{var n=t.performance.timing[e];return void 0===n?0:n}catch(t){return 0}}function c(t){try{if(0===["redirectStart","redirectEnd","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","secureConnectionStart"].reduce((function(e,n){return e+r(t,n)}),0))return null;var e=r(t,"fetchStart");return["domainLookupStart","domainLookupEnd","connectStart","connectEnd"].reduce((function(n,o){return n&&r(t,o)===e}),!0)}catch(t){return null}}function s(){try{var t=window.performance.timeOrigin;return void 0===t?window.performance.timing.navigationStart:t}catch(t){return 0}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(3);function o(){try{var t,e,n,o;return!(null===(t=window)||void 0===t||null===(e=t.localStorage)||void 0===e||!e.setItem||null===(n=window)||void 0===n||null===(o=n.localStorage)||void 0===o||!o.removeItem)||(Object(r.c)("hasLocalStorage","absent"),!1)}catch(t){return Object(r.c)("hasLocalStorage","exception"),!1}}},function(t,e,n){"use strict";n.d(e,"c",(function(){return m})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return O})),n.d(e,"e",(function(){return v})),n.d(e,"d",(function(){return S}));var r=n(1),o=n(17),i=n(10),a=n(3),c=n(2),s=n(8),u=n(0);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=["email"],f=/@/,b=/^[0-9a-fA-F]{64}$/,p="noconsent",m=function(t){return b.test(t||"")};function y(t){return t===p?"AMZN-NoCookieConsent":"AMZN-Token"}function g(t,e,n){t=0<arguments.length&&void 0!==t?t:"",e=1<arguments.length&&void 0!==e?e:0,n=2<arguments.length&&void 0!==n?n:"token";try{var o=new Date(e).toUTCString();document.cookie="".concat(y(n),"=").concat(t,"; expires=").concat(o,"; path=/;")}catch(t){Object(r.b)(t,"setAmznToken-".concat(n),!0)}}function h(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"token";try{var e=Object(u.d)().filter((function(e){return e[0]===y(t)}));return 0===e.length?"":e[0][1]}catch(e){return Object(r.b)(e,"getAmznToken-".concat(t),!0),""}}function O(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"api";try{if(void 0!==t&&"function"!=typeof t)throw new Error("Callback function must be a function, ".concat(d(t)," provided"));"function"!=typeof t&&(t=function(){}),g(),g("",0,"noconsent"),Object(a.c)("id","d-".concat(e))}catch(t){Object(r.b)(t,"deleteIdentity",!0)}t()}function j(t,e,n,o){try{e=Object(s.a)(e);var d,l=c.a.getState().config;if(!Object(u.m)(l,"pubID"))throw new Error("apstag.init must be called before ID functions");var f={url:"https://tk.amazon-adsystem.com/envelope",onload:function(t){try{if(t.readyState===XMLHttpRequest.DONE&&200===t.status){if("string"!=typeof(d=JSON.parse(t.responseText)).AIPToken||"number"!=typeof d.cookieExpiry)return e(),void Object(r.b)(new Error("Invalid AIPES response"),"callAipes-response");""===d.AIPToken?(Object(a.c)("id","endReqAipes-tokenEmpty"),g("1",d.cookieExpiry,p)):(Object(a.c)("id","endReqAipes-tokenAvailable"),Object(a.g)(),n&&g(d.AIPToken,d.cookieExpiry))}else t.readyState===XMLHttpRequest.DONE&&Object(r.b)(new Error("AIPES response code: ".concat(t.status)),"callAipes-onload",!0)}catch(t){Object(r.b)(t,"callAipes-onload",!0)}e(n?null:d)},onerror:function(){Object(r.b)(new Error("AIPES response code: ".concat(this.status)),"callAipes-onerror",!0),e()},ontimeout:function(){Object(r.b)(new Error("AIPES request timeout"),"callAipes-ontimeout",!0),e()},headers:{"Content-Type":"application/json"},body:function(t,e,n){try{var o={publisherId:e.pubID,hashedRecords:t.hashedRecords};return n.enabled?(o.gdpr=1,void 0!==n.consent&&(o.gdprConsent=n.consent)):0===n.enabled&&(o.gdpr=0),void 0!==t.ttl&&(o.ttl=t.ttl),JSON.stringify(o)}catch(t){return Object(r.b)(t,"buildAipesBody",!0),""}}(t,l,o)};Object(a.c)("id","startReqAipes"),Object(i.d)(f)}catch(t){Object(r.b)(t,"callAipes",!0),e()}}function v(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"api";"function"!=typeof e&&(e=function(){}),"boolean"!=typeof n&&(n=!0);try{if(!Object(u.l)(t))throw new Error("'tokenConfig' must be an object, ".concat("object"===d(t)?"null":d(t)," provided"));if(t.optOut)return void O(e,"u-oo");if(O((function(){}),"u"),Object(a.c)("id","u-".concat(i)),!function(t){try{var e=[];return!Object(u.m)(t,"gdpr")||Object(u.l)(t.gdpr)&&!Object(u.k)(t.gdpr)?Object(u.m)(t,"gdpr")&&(Object(u.m)(t.gdpr,"enabled")&&-1===[!0,!1].indexOf(t.gdpr.enabled)&&e.push("`gdpr.enabled` must be a boolean"),Object(u.m)(t.gdpr,"consent")&&"string"!=typeof t.gdpr.consent&&e.push("'gdpr.consent' must be a valid IAB-formatted string")):e.push("`gdpr` must be an Object"),Object(u.m)(t,"optOut")&&-1===[!0,!1].indexOf(t.optOut)&&e.push("'optOut' must be a boolean"),Object(u.m)(t,"hashedRecords")&&Object(u.k)(t.hashedRecords)?1!==t.hashedRecords.length?e.push("'hashedRecords' must contain exactly one item"):t.hashedRecords.forEach((function(t){Object(u.m)(t,"type")&&-1!==l.indexOf(t.type)||e.push("'type' must be 'email' in item '".concat(JSON.stringify(t),"'")),Object(u.m)(t,"encrypted")&&"boolean"!=typeof t.encrypted&&e.push("'encrypted' must be a boolean in item '".concat(JSON.stringify(t),"'")),Object(u.m)(t,"record")&&"string"==typeof t.record?t.encrypted||b.test(t.record)?t.encrypted&&f.test(t.record)&&e.push("'record' must NOT be an un-hashed, un-encrypted email"):e.push("'record' must be a SHA256 hash in item '".concat(JSON.stringify(t),"'")):e.push("'record' must be a string in item '".concat(JSON.stringify(t),"'"))})):e.push("'hashedRecords' must be an array"),Object(u.m)(t,"ttl")&&("number"!=typeof t.ttl||isNaN(t.ttl)||t.ttl<=0||t.ttl%1!=0)&&e.push("'ttl' must be a positive integer"),0<e.length?void Object(r.b)({name:"TokenConfigValidationError",message:"There was an issue with the TokenConfig provided ".concat(JSON.stringify(t),":\n")+e.map((function(t){return"- ".concat(t)})).join("\n")},"validateTokenConfig-invalid",!0):1}catch(t){return void Object(r.b)(t,"validateTokenConfig",!0)}}(t))return void e();Object(o.a)(t.gdpr,j.bind(null,t,e,n))}catch(t){Object(r.b)(t,"updateIdentity",!0),e()}}function S(t,e,n){"function"!=typeof e&&(e=function(){}),"boolean"!=typeof n&&(n=!0);try{if(!Object(u.l)(t))throw new Error("'tokenConfig' must be an object, ".concat("object"===d(t)?"null":d(t)," provided"));if(t.optOut)return void O(e,"r-oo");if(""!==h("noconsent"))return void e();if(""!==h())return e(),void Object(a.c)("id","r-noop");v(t,e,n,"r")}catch(t){Object(r.b)(t,"renewIdentity",!0),e()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),o=n(1),i=n(5),a=n(3);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");s(this,"_slotConfig",void 0),s(this,"rawSlot",void 0),this._slotConfig=e,this.rawSlot=e}var e,n;return e=t,(n=[{key:"slotID",get:function(){return this._slotConfig.slotID}},{key:"slotName",get:function(){return this._slotConfig.slotName}},{key:"slotParams",get:function(){return this._slotConfig.slotParams}},{key:"slotConfig",get:function(){return{slotID:this.slotID,slotName:this.slotName,sizes:this.sizes}}},{key:"mediaType",get:function(){return i.a.DISPLAY}},{key:"sizes",get:function(){return[]}},{key:"floor",get:function(){var t;return Object(r.m)(this._slotConfig,"floor")&&"USD"===this._slotConfig.floor.currency&&this.validateFloorValue(this._slotConfig.floor.value)?(t=this._slotConfig.floor,Object(a.c)("customFloor","y")):Object(a.c)("customFloor","n"),t}},{key:"aaxSlotParams",get:function(){var t=this;try{return Object(r.m)(this,"slotParams")&&Object(r.l)(this.slotParams)?Object.keys(this.slotParams).filter((function(e){return t.validateSlotParamValue(t.slotParams[e])})).reduce((function(e,n){return e[n]=t.slotParams[n],e}),{}):void 0}catch(t){return this.reportError(t,"aaxSlotParams",!1),this.slotParams}}},{key:"aaxSlot",get:function(){Object(a.c)("slotType",this.mediaType);var t={kv:this.aaxSlotParams};return this.floor&&(t.fc=this.floor.currency,t.fp=this.floor.value),t}},{key:"isValid",value:function(){var t,e,n=[],o=[];return void 0===this.slotID?n.push("'slotID' must be provided and a string"):"string"!=typeof this.slotID&&o.push("'slotID' must be a string"),Object(r.m)(this._slotConfig,"floor")&&Object(r.l)(this._slotConfig.floor)&&(t=(e=this._slotConfig.floor).currency,e=e.value,"USD"!==t&&o.push("'floor' currency only supports USD"),this.validateFloorValue(e)||o.push("'floor' value must be a positive integer")),0<n.length?(this.reportIsValidMessages([].concat(n,o),!0),!1):(0<o.length&&this.reportIsValidMessages(o,!1),!0)}},{key:"reportError",value:function(t,e,n){Object(o.b)(t,"Slot-".concat(e),n)}},{key:"setTargeting",value:function(t,e){}},{key:"getTargeting",value:function(t){return[]}},{key:"clearTargeting",value:function(t){}},{key:"reportIsValidMessages",value:function(t,e){this.reportError({name:"SlotValidationError",message:this.buildIsValidMessage(t,this._slotConfig)},"validation-".concat(e?"error":"warn"),!0)}},{key:"validateSlotParamValue",value:function(t){var e=this;try{return Object(r.k)(t)?0<t.length&&t.reduce((function(t,n){return t&&e.validateSlotParamValue(n)}),!0):"string"==typeof t&&0<t.length}catch(t){return Object(o.b)(t,"validateSlotParamValue"),!1}}},{key:"validateFloorValue",value:function(t){return"number"==typeof t&&0<t&&t%1==0}},{key:"buildIsValidMessage",value:function(t,e){return"There was an issue with the configuration for this slot: ".concat(JSON.stringify(e),"\n")+t.map((function(t){return"- ".concat(t)})).join("\n")}}])&&c(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return g}));var r=n(1),o=n(3),i=n(0);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){var r,o;r=t,o=n[e=e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},d="__tcfapi";function l(t,e){var n,c=!1,l={log:{status:"no-status"}},f=50,b="global-func-error";function p(){c||(c=!0,e(s(s({},l),{},{log:s({},l.log)})))}e=Object(r.d)(e,"GdprCallback");try{if(!1===(t=Object(i.l)(t)?s({},t):{}).enabled||0===t.enabled?(l.log.status="explicit-no-gdpr",l.enabled=0):!0===t.enabled||1===t.enabled?(l.log.status=Object(i.m)(t,"consent")?"explicit-consent-passed":"explicit-no-consent-passed",l.enabled=1,l.consent=t.consent):Object(i.m)(t,"enabled")&&(l.log.status=Object(i.m)(t,"consent")?"malformed-with-consent":"malformed-without-consent",l.consent=t.consent,u(t.enabled)?l.enabled=t.enabled:l.enabled=1),Object(i.m)(t,"enabled")&&(l.log.enabled=t.enabled),Object(i.m)(t,"cmpTimeout")&&u(t.cmpTimeout)&&(f=t.cmpTimeout,l.log.cmpTimeout=f),void 0!==l.enabled)return Object(o.c)("gdpr","pub-api"),Object(i.m)(l,"consent")&&"string"!=typeof l.consent&&(delete l.consent,Object(r.b)(new Error("Invalid consent: must be string, given ".concat(a(l.consent))),"getGdprConfig-pub-consent-invalid",!0)),void p()}catch(t){Object(r.b)(t,"getGdprConfig-parseConfig",!0)}try{if(!Object(i.m)(window,d)||"function"!=typeof window[d])return Object(o.c)("gdpr","no-cmp"),l.log.status="no-cmp",void p();n="tcfv2",Object(o.c)("gdpr",n),setTimeout((function(){l.log.status="".concat(n,"-timeout"),p()}),f),b="".concat(n,"-internal-error"),window[d]("getTCData",2,(function(t,e){try{if(!e||!Object(i.l)(t))return l.log.status="".concat(n,"-error"),void p();l.log.status="".concat(n,"-success"),Object(i.m)(t,"tcString")?l.consent=t.tcString:Object(i.m)(t,"consentData")&&(l.consent=t.consentData),l.enabled=t.gdprApplies?1:0,0===l.enabled&&delete l.consent,l.gdprApplies=t.gdprApplies,Object(i.m)(t,"tcString")&&0<(t.tcString||"").length&&function(t){try{if(!Object(i.m)(window,d)||"function"!=typeof window[d])return;window[d]("addEventListener",2,(function(e,n){"string"==typeof t&&0!==t.length&&e.tcString!==t&&Object(r.b)(new Error("mismatched tcString: "+"".concat(n," - ").concat(null===(n=e.tcString)||void 0===n?void 0:n.length," - ").concat(t.length)+" - ".concat(e.eventStatus)),"checkMatchingTcf-param-mismatch")}))}catch(t){Object(r.b)(t,"checkMatchingTcf")}}(t.tcString),p()}catch(t){l.log.status="func-error",p(),Object(r.b)(t,"cmpCallback-".concat(n),!0)}}))}catch(t){l.log.status=b,p(),Object(r.b)(t,"getGdprConfig-".concat(b),!0)}}function f(t){for(var e=[],n=-1;0<=(n=t.indexOf("1",n+1));)e.push(n+1);return e}function b(t){for(var e=[],n=parseInt(m(t,12),2),r=0;r<n;r++){var o=parseInt(m(t,1),2),i=parseInt(m(t,16),2);if(e.push(i),o)for(var a=parseInt(m(t,16),2),c=i+1;c<=a;c++)e.push(c)}return e}function p(t){var e=parseInt(m(t,16),2);return parseInt(m(t,1),2)?b(t):f(m(t,e))}function m(t,e){var n=t.bits.substr(t.index,e);return t.index+=e,n}function y(t){try{if(!t)return!1;var e=function(t){try{for(var e=(t=(t=t.replace(/-/g,"+")).replace(/_/g,"/")).split(".")[0],n=window.atob(e),o="",i=0;i<n.length;i++)o+=("0000000"+n.charCodeAt(i).toString(2)).substr(-8);return o}catch(t){return Object(r.b)(t,"TCFToBinary",!0),""}}(t);if(e.length<230)return!1;var n={},o={bits:e,index:0};return n.version=parseInt(m(o,6),2),2===n.version&&(n.created=parseInt(m(o,36),2),n.lastUpdated=parseInt(m(o,36),2),n.cmpId=parseInt(m(o,12),2),n.cmpVersion=parseInt(m(o,12),2),n.consentScreen=parseInt(m(o,6),2),n.consentLanguage=String.fromCharCode(parseInt(m(o,6),2)+65)+String.fromCharCode(parseInt(m(o,6),2)+65),n.vendorListVersion=parseInt(m(o,12),2),n.tcfPolicyVersion=parseInt(m(o,6),2),n.isServiceSpecific="1"===m(o,1),n.useNonStandardStacks="1"===m(o,1),n.specialFeatureOptIns=f(m(o,12)),n.purposesConsent=f(m(o,24)),n.purposesLITransparency=f(m(o,24)),n.purposeOneTreatment="1"===m(o,1),n.publisherCC=String.fromCharCode(parseInt(m(o,6),2)+65)+String.fromCharCode(parseInt(m(o,6),2)+65),n.vendorConsents=p(o),n.vendorLegitimateInterests=p(o),n.publisherRestrictions=function(t){for(var e=parseInt(m(t,12),2),n=[],r=0;r<e;r++){var o=parseInt(m(t,6),2),i=parseInt(m(t,2),2);n.push({purposeId:o,restrictionType:i,vendorIds:b(t)})}return n}(o),n)}catch(t){return Object(r.b)(t,"parseTCFString",!0),!1}}function g(t,e){if(!t)return!!window.apstag&&!window.apstag.isGDPRRegion&&!0!==e;if(window.apstag&&!window.apstag.isGDPRRegion&&!1===e)return!0;if(2!==t.version)return!1;if(t.useNonStandardStacks)return!1;if(!t.isServiceSpecific)return!1;if(t.vendorListVersion<51)return!1;if(0===(e=t.publisherRestrictions.filter((function(t){return 1===t.purposeId&&0<=t.vendorIds.indexOf(793)}))).length)return h(t);switch(e[0].restrictionType){case 0:case 2:return!1;default:return h(t)}}function h(t){return!(!Object(i.m)(t,"vendorConsents")||!Object(i.m)(t,"purposesConsent"))&&0<=t.vendorConsents.indexOf(793)&&0<=t.purposesConsent.indexOf(1)}},function(t,e,n){"use strict";var r;n.d(e,"a",(function(){return r})),(n=r=r||{}).DISPLAY="d",n.VIDEO="v",n.MULTI_FORMAT="mf"},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return i}));var i=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");o(this,"isSupported",!1),o(this,"needNewBidObject",!1)}var e,n;return e=t,(n=[{key:"cmdQueuePush",value:function(t){}},{key:"slotRenderEndedEvent",value:function(t){}},{key:"setTargeting",value:function(t,e){}},{key:"getTargeting",value:function(t){return[]}},{key:"clearTargeting",value:function(t,e){}},{key:"hasAdServerObjectLoaded",value:function(){return!1}},{key:"isCommandQueueDefined",value:function(){return!1}},{key:"getSlots",value:function(){return[]}}])&&r(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return b})),n.d(e,"g",(function(){return y})),n.d(e,"a",(function(){return v})),n.d(e,"e",(function(){return S})),n.d(e,"f",(function(){return w}));var r=n(1),o=n(0),i=n(3),a=n(2),c=n(4),s=n(5);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(){function t(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this,o=t;if(!(r instanceof o))throw new TypeError("Cannot call a class as a function");r=void 0,(o="_rawProps")in(e=this)?Object.defineProperty(e,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[o]=r,this._rawProps=n}var e,n;return e=t,(n=[{key:"source",get:function(){return"web"}},{key:"omsdkAccessMode",get:function(){return"limited"}},{key:"publisherType",get:function(){var t=a.a.getState().config;return t&&!0===t.isSelfServePub?s.b.SELF_SERVE_WEB:s.b.MANAGED_WEB}},{key:"publisherUUID",get:function(){var t=a.a.getState().config;if(t)return t.pubID}},{key:"integratorVersion",get:function(){return c.l}},{key:"bidId",get:function(){var t=this._rawProps.bidId;if("string"==typeof t)return t}},{key:"dealId",get:function(){var t=this._rawProps.dealId;if("string"==typeof t)return t}},{key:"hostName",get:function(){var t=this._rawProps.hostName;if("string"==typeof t)return t}},{key:"pricePoint",get:function(){var t=this._rawProps.pricePoint;if("string"==typeof t)return t}},{key:"targetingMap",get:function(){var t=this._rawProps.targetingMap;if("string"==typeof t)return t}},{key:"adServerType",get:function(){var t=a.a.getState().config;if(t)return t.adServer}},{key:"adServerAdUnitId",get:function(){var t=this._rawProps.adServerAdUnitId;if("string"==typeof t)return t}},{key:"apsAdUnitId",get:function(){var t=this._rawProps.apsAdUnitId;if("string"==typeof t)return t}},{key:"getProperties",value:function(){return JSON.stringify({source:this.source,omsdkAccessMode:this.omsdkAccessMode,publisherType:this.publisherType,publisherUUID:this.publisherUUID,integratorVersion:this.integratorVersion,bidId:this.bidId,hostName:this.hostName,dealId:this.dealId,pricePoint:this.pricePoint,targetingMap:this.targetingMap,adServerType:this.adServerType,adServerAdUnitId:this.adServerAdUnitId,apsAdUnitId:this.apsAdUnitId})}}])&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t,e){try{if(Object(o.m)(e,"slotID")){var n=e.slotID,i=t.getElementById(n);if(i instanceof HTMLDivElement)return i}}catch(t){Object(r.b)(t,"getVideoDivElement-outstream")}}function f(t,e){try{Object(o.m)(t,"bidID")&&(e+="b=".concat(t.bidID)),Object(o.m)(t,"pp")&&(e+="&pp=".concat(t.pp)),e+="&rnd=".concat(Object(o.f)())}catch(t){Object(r.b)(t,"constructVastTag")}return e}function b(t,e,n){try{var o={bidId:null==n?void 0:n.bidID,hostName:null==n?void 0:n.host,dealId:null==n?void 0:n.dealId,pricePoint:null==n?void 0:n.pp,apsAdUnitId:null==n?void 0:n.slotID},i={key:"$$videoPlayerProps$$",value:new d(o).getProperties()},a=e;return[i,{key:"$$apstagVastTag$$",value:t}].forEach((function(t){var e=t.key;t=t.value;a=a.replace(e,t)})),a}catch(t){return Object(r.b)(t,"constructVastTag"),""}}var p={started:!1,completed:!1,loaded:!1,isPaused:!1},m={root:null,rootMargin:"0px",threshold:.5};function y(t,e,n){try{var o;window.addEventListener("message",(function(t){g(t,n)})),window.IntersectionObserver?(o=new window.IntersectionObserver((function(n){n.forEach((function(n){.5<n.intersectionRatio&&e.contentWindow&&(h(e,t),o.disconnect())}))}),m)).observe(t):Object(r.b)({name:"IntersectionObserver",message:"IntersectionObserver not supported "},"startVideoAndHandlePlayback")}catch(t){Object(r.b)(t,"startVideoAndHandlePlayback")}}function g(t,e){if(t.origin===window.top.location.origin&&!0===t.data.apsVideoPlayer)switch(t.data.event){case"completed":p.completed=!0;break;case"loaded":var n;p.loaded=!0,a.a.getState().outstream.shouldSample&&(n=Date.now()-a.a.getState().outstream.renderStart,Object(i.e)("loaded",e,n))}}function h(t,e){try{null!==t.contentDocument&&Object(o.j)(["complete","interactive"],t.contentDocument.readyState)?j(t,e):null!==t.contentDocument&&"uninitialized"!==t.contentDocument.readyState?t.contentDocument.addEventListener("DOMContentLoaded",(function(){j(t,e)})):t.addEventListener("load",(function(){j(t,e)})),setTimeout(j,1e3,!0)}catch(t){Object(r.b)(t,"loadVideoAd")}}function O(t,e){try{var n;window.IntersectionObserver&&(n=new window.IntersectionObserver((function(e){e.forEach((function(e){p.completed&&n.disconnect(),e.intersectionRatio<.5&&!p.isPaused?t.contentWindow&&t.contentWindow.adsM&&(t.contentWindow.adsM.pause(),p.isPaused=!0):p.isPaused&&t.contentWindow&&t.contentWindow.adsM&&(t.contentWindow.adsM.play(),p.isPaused=!1)}))}),{threshold:.5})).observe(e)}catch(e){Object(r.b)(e,"handleAutoPauseAndPlay")}}function j(t,e){t.contentWindow&&!p.started&&(p.started=!0,function(t,e,n){var r=Number(new Date)+(e||2e3);return n=n||100,new Promise((function e(o,i){var a=t();a?o(a):Number(new Date)<r?setTimeout(e,n,o,i):i(new Error("apsVideoPlayer timed out"))}))}((function(){return p.loaded}),3e4,100).then((function(){t.contentWindow&&t.contentWindow.adsM&&(t.contentWindow.adsM.play(),O(t,e))})).catch((function(){O(t,e),Object(r.b)({name:"VideoPlayerTimeout",message:"video player took more than 30 seconds to load"},"startAd")})))}function v(t,e){try{e&&e.appendChild(t)}catch(t){Object(r.b)(t,"_appendDivElement")}}function S(t,e){try{t.appendChild(e)}catch(t){Object(r.b)(t,"_insertVideoIframeInsideDiv")}}function w(t){var e=document.createElement("div");return e.style.width="".concat(t[0],"px"),e.style.height="".concat(t[1],"px"),e.style.margin="0 auto",e.id="apsVideoDiv-".concat(Object(o.f)()),e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),o=n(1),i=n(3);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){function t(e){var n=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o=this,i=t;if(!(o instanceof i))throw new TypeError("Cannot call a class as a function");c(this,"validSizeStringRegex",/^[0-9]+x[0-9]+$/),c(this,"numberStringRegex",/^[0-9]+$/),c(this,"_sizes",void 0),c(this,"_permit1D",!0),c(this,"_allowUndefined",!1),this._sizes=e,this._permit1D=n,this._allowUndefined=r}var e,n;return e=t,(n=[{key:"isValid",value:function(){return!(void 0!==this._sizes||!this._allowUndefined)||0<this.sizes.length}},{key:"sizes",get:function(){var t=this;try{var e=[];if(Object(r.k)(this._sizes)){this._sizes=this._sizes.filter((function(t){return"fluid"!==t}));var n="2d",i=this._sizes;if(i&&0<i.length&&!Object(r.k)(i[0])&&("string"!=typeof i[0]||!this.validSizeStringRegex.test(i[0]))){if(!this._permit1D)throw new Error("Sizes must be 2d array");n="1d",i=[i]}e=i.filter((function(e){return t.isValidSize(n,e)})).map((function(t){return Object(r.k)(t)?t:t.split("x").map((function(t){return parseInt(t,10)}))}))}return e}catch(e){return Object(o.b)(e,"SizesDelegate-getSizes"),[]}}},{key:"aaxSizes",get:function(){if(void 0!==this._sizes||!this._allowUndefined)return this.sizes.filter(r.k).map((function(t){return t.join("x")}))}},{key:"isValidSize",value:function(t,e){var n=this,a=[];function c(t){t=JSON.stringify(t),-1===a.indexOf(t)&&(a.push(t),Object(o.b)({name:"SizesDelegate-isValidSize-invalid",message:"Invalid Slot Size: ".concat(JSON.stringify(e))},"SizesDelegate-isValidSize-invalid"))}try{return"string"==typeof e&&this.validSizeStringRegex.test(e)?(Object(i.c)("AaxSlotSizes","".concat(t,"-compiled")),!0):Object(r.k)(e)&&1!==e.length?(2<e.length&&c(e),e.slice(0,2).reduce((function(e,r){return e&&("number"==typeof r||"string"==typeof r)&&!("string"==typeof r&&!n.numberStringRegex.test(r))&&("string"==typeof r?Object(i.c)("AaxSlotSizes","".concat(t,"-string")):Object(i.c)("AaxSlotSizes","".concat(t,"-number")),!0)}),!0)):(c(e),!1)}catch(c){return Object(o.b)(c,"isValidSize"),!0}}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));e=n(16);var r=n(0),o=n(1),i=n(5);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);n=e?(n=p(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(r)}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t);var n=f(a);function a(t){var e;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");return m(b(e=n.call(this,{slotID:t.getSlotElementId(),slotName:t.getAdUnitPath()})),"rawSlot",void 0),e.rawSlot=t,e}return e=a,(t=[{key:"mediaType",get:function(){return i.a.DISPLAY}},{key:"sizes",get:function(){try{var t=Object(r.i)(window).split("x").map((function(t){return Number(t)})),e=this.rawSlot.getSizes(t[0],t[1]);return null===e?[]:e.filter((function(t){return"fluid"!==t})).map((function(t){return[t.getWidth(),t.getHeight()]}))}catch(t){return this.reportError(t,"sizes"),[]}}},{key:"aaxSlot",get:function(){var t=s(s({},d(p(a.prototype),"aaxSlot",this)),{},{sd:this.slotID,s:this.sizes.filter(r.k).map((function(t){return t.join("x")}))});return this.slotID!==this.slotName&&(t.sn=this.slotName),t}},{key:"isValid",value:function(){return!(!d(p(a.prototype),"isValid",this).call(this)||0===this.sizes.length&&(this.reportIsValidMessages(["'sizes' must have at least 1 valid item"],!0),1))}},{key:"reportError",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];Object(o.b)(t,"GptSlot-".concat(e),n)}},{key:"setTargeting",value:function(t,e){try{this.rawSlot.setTargeting(t,e)}catch(t){this.reportError(t,"setTargeting")}}},{key:"getTargeting",value:function(t){try{return this.rawSlot.getTargeting(t)}catch(t){return this.reportError(t,"getTargeting"),[]}}},{key:"clearTargeting",value:function(t){try{this.rawSlot.clearTargeting(t)}catch(t){this.reportError(t,"clearTargeting")}}}])&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.a)},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var r=n(1),o=n(0);function i(t){try{return!(!Object(o.m)(t,"$sf")||!Object(o.m)(t.$sf,"ext"))}catch(t){return Object(r.b)(t,"isSafeFrame"),!1}}function a(t,e){try{var n=e.innerWidth,o=e.innerHeight,i=parseInt(t[0],10),a=parseInt(t[1],10),c=i-n,s=a-o,u=e.sfAPI||e.$sf.ext;u&&(n===i&&o===a||(u.register(i,a),u.expand({r:c,b:s,push:!0})))}catch(t){Object(r.b)(t,"expandSf")}}function c(t){try{return 1===t.innerWidth&&1===t.innerHeight}catch(t){return Object(r.b)(t,"is1x1Creative"),!1}}},function(o,t,e){"use strict";e.d(t,"b",(function(){return d})),e.d(t,"d",(function(){return l})),e.d(t,"c",(function(){return f})),e.d(t,"a",(function(){return v}));var i=e(10),b=e(1),a=e(28),p=e(4),m=e(2),c=e(14),y=e(0),s=e(3),g=e(17),u=e(29),n,r;function d(){var r=m.a.getState().experiments.shouldSampleLatency,o=Date.now(),t=Object(a.a)(window.location,window.top.location);if(null!==t){var e={url:t,withCredentials:!0,onload:function t(e){if(200===e.status)try{m.a.dispatch({type:"RECORD_LIBRARY_LOAD_CALL_LATENCY",latency:Date.now()-o}),r&&setTimeout(s.d,1e3);var n=JSON.parse(e.response);eval(n["3pvendor"]),Object(g.a)(m.a.getState().config.gdpr,(function(t){var e;t&&(e=Object(g.b)(t.consent),Object(c.a)()&&Object(g.c)(e,t.gdprApplies)&&window.localStorage.setItem(p.e,"1"))}))}catch(t){Object(b.b)(t,"load3PLibraryConfig-onload",!0)}},onerror:function(t){t=new Error("".concat(t.type,": ").concat(t.loaded," bytes transferred")),Object(b.b)(t,"load3PLibraryConfig-onerror",!0)}};try{Object(i.d)(e)}catch(t){Object(b.b)(t,"load3PLibraryConfig",!0)}r&&setTimeout(s.d,1e3)}}function l(){return Object(y.m)(window,"creativeVendorLibraryLoaded")&&!0===window.creativeVendorLibraryLoaded||Object(y.m)(window,"confiant")}function f(){var t={renderTimes:{}};window.addEventListener("message",(function(e){Object(u.a)(t,e)}))}function h(t){if(t)try{var e,n=JSON.parse(window.atob(decodeURIComponent(t))),r={id:n.envelope,newGen:2};return Object(y.m)(n,"timestamp")&&(!(e=window.localStorage.getItem(p.m))||e<n.timestamp?(r.newGen=1,window.localStorage.setItem(p.m,n.timestamp)):r.newGen=0),r}catch(e){return{id:decodeURIComponent(t),newGen:2}}return!1}function O(){try{var t=Object(y.e)(n.publinkSrv)||Object(y.e)(n.publink);return!1!==t&&t.publink}catch(t){return!1}}function v(t){try{if(t){var e=Object(g.b)(t.consent),n=Date.now(),r=Object(g.c)(e,t.gdprApplies);if(m.a.dispatch({type:"RECORD_TCF_PARSE_TIME",time:Date.now()-n}),r){var o={ids:{}};if("1"!==window.localStorage.getItem(p.e))return o;var i,a,c=window.localStorage.getItem("id5id"),s=(c&&(o.ids.id5=JSON.parse(decodeURIComponent(c)).universal_uid),window.localStorage.getItem("_pubcid")),u=(s&&(o.ids.pubcommon=s),!1),d=(window.localStorage._lr_env?u=h(window.localStorage._lr_env):0<=window.document.cookie.indexOf("_lr_env=")?(i=window.document.cookie.match("(^|;)*\\s*_lr_env\\s*=\\s*([^;]+)"))&&(u=h(i.pop())):window.localStorage.idl_env?u=h(window.localStorage.idl_env):0<=window.document.cookie.indexOf("idl_env=")&&(a=window.document.cookie.match("(^|;)*\\s*idl_env\\s*=\\s*([^;]+)"))&&(u=h(a.pop())),u&&(o.ids.liveRamp=u.id,Object(y.m)(u,"newGen")&&(o.md={liveRamp:u.newGen})),window.localStorage.getItem("hadronId")||window.localStorage.getItem("auHadronId")),l=(d&&(o.ids.audigent=d),window.localStorage.getItem("panoramaId")),f=(l&&(o.ids.lotame=l),O());return f&&(o.ids.publink=f),o}}}catch(t){Object(b.b)(t,"getIdentityConfig",!0)}return{ids:{}}}r=n=n||{},r.publink="_publink",r.publinkSrv="_publink_srv",r.pbjsPublink="_pbjs_publink"},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(0),o=(e=n(19),n(1)),i=n(22);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);n=e?(n=l(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return d(r)}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t);var n=u(a);function a(){var t=this,e=a;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var r,o,i=arguments.length,c=new Array(i),s=0;s<i;s++)c[s]=arguments[s];return o=!0,(r="isSupported")in(e=d(t=n.call.apply(n,[this].concat(c))))?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,t}return e=a,(t=[{key:"reportError",value:function(t,e){Object(o.b)(t,"GoogletagAdServer-".concat(e))}},{key:"cmdQueuePush",value:function(t){try{window.googletag.cmd.push(t)}catch(t){this.reportError(t,"cmdQueuePush")}}},{key:"slotRenderEndedEvent",value:function(t){try{window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){e=new i.a(e.slot),t(e)}))}catch(t){this.reportError(t,"slotRenderEndedEvent")}}},{key:"setTargeting",value:function(t,e){try{window.googletag.pubads().setTargeting(t,e)}catch(t){this.reportError(t,"setTargeting")}}},{key:"getTargeting",value:function(t){try{return window.googletag.pubads().getTargeting(t)||[]}catch(t){return this.reportError(t,"getTargeting"),[]}}},{key:"clearTargeting",value:function(t){try{window.googletag.pubads().clearTargeting(t)}catch(t){this.reportError(t,"clearTargeting")}}},{key:"hasAdServerObjectLoaded",value:function(){try{return Object(r.m)(window,"googletag")&&Object(r.m)(window.googletag,"apiReady")&&!0===window.googletag.apiReady}catch(t){return this.reportError(t,"hasAdServerObjectLoaded"),!1}}},{key:"isCommandQueueDefined",value:function(){try{return Object(r.m)(window,"googletag")&&Object(r.m)(window.googletag,"cmd")}catch(t){return this.reportError(t,"isCommandQueueDefined"),!1}}},{key:"getSlots",value:function(){try{return window.googletag.pubads().getSlots().map((function(t){return new i.a(t)}))}catch(t){return this.reportError(t,"getSlots"),[]}}}])&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.a)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r=n(4),o=n(0),i=n(1);function a(t){try{return Object(o.m)(t,"debug")}catch(t){return Object(i.b)(t,"isApstagLibrary"),!1}}function c(t){try{return!!Object(o.m)(t,r.a)&&!0===t[r.a]}catch(t){return Object(i.b)(t,"hasApstagJsLoaded"),!1}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));e=n(16);var r=n(21);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);n=e?(n=f(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===o(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(r)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t);var n=d(o);function o(t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");return b(l(t=n.call(this,t)),"_sizesDelegate",void 0),t._sizesDelegate=new r.a(t.rawSlot.sizes),t}return e=o,(t=[{key:"sizes",get:function(){return this._sizesDelegate.sizes}},{key:"aaxSizes",get:function(){return this._sizesDelegate.aaxSizes||[]}},{key:"aaxSlot",get:function(){var t={sd:this.slotID,s:this.aaxSizes};return this.slotID!==this.slotName&&(t.sn=this.slotName),a(a({},t),s(f(o.prototype),"aaxSlot",this))}},{key:"isValid",value:function(){return!(!s(f(o.prototype),"isValid",this).call(this)||0===this.sizes.length&&(this.reportIsValidMessages(["'sizes' must have at least 1 valid item"],!0),1))}}])&&c(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),o}(e.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(2),o=n(1),i=n(7),a=n(4);function c(t,e){try{var n,c=r.a.getState(),s=c.config,u=Object(i.c)("host",c.hosts.DEFAULT_AAX_BID_HOST),d=c.cfg.LIB_CONFIG_PATH;try{if(0<=["http:","https:"].indexOf(t.protocol))n=t.protocol+"//"+t.hostname;else{if(!(0<=["http:","https:"].indexOf(e.protocol)))return null;n=e.protocol+"//"+e.hostname}}catch(t){if(t instanceof window.DOMException)return null;throw t}var l={src:s.isSelfServePub?a.t:s.pubID,u:encodeURIComponent(n)};if(s.isSelfServePub&&(l.pubid=s.pubID),!l.src)return null;var f=Object.keys(l).map((function(t){return"".concat(t.trim(),"=").concat(String(l[t]).trim())})).join("&");return"".concat(a.s).concat(u).concat(d,"?").concat(f)}catch(t){return Object(o.b)(t,"buildLibraryConfigUrl",!0),null}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),o=n(8),i=n(9),a=n(3);function c(t,e){var n,c,s,u,d,l;Object(r.l)(e.data)?(Object(r.m)(e.data,"bidInfo")&&(Object(r.m)(e.data.bidInfo,"src")?(n=e.data.bidInfo.src,n=new URL(n).searchParams.get("b")):Object(r.m)(e.data.bidInfo,"jsonp")&&(d=e.data.bidInfo.jsonp,n=JSON.parse(d.substr(17,d.length-20)).amzniid)),Object(r.m)(e.data,"renderData")&&(c=(d=e.data.renderData).id,(Object(r.m)(d,"renderStart")||Object(r.m)(d,"renderEnd"))&&(l=d.renderStart,d=d.renderEnd,l?(t.renderTimes[c]={timeStamp:l},n&&(t.renderTimes[c].bidId=n)):d&&Object(r.m)(t.renderTimes,c)&&0!==t.renderTimes[c].timeStamp&&(l=d-t.renderTimes[c].timeStamp,d={_type:"iframeRender",c:"dtb",pid:i.b,crt:l},(n=t.renderTimes[c].bidId?t.renderTimes[c].bidId:n)?Object(a.a)(n,d):Object(a.b)(d)))),Object(r.m)(e.data,"blockData")&&(l=e.data.blockData.blockInfo,t={_type:"malwareBlock",c:"dtb",tpbr:1,pid:i.b,info:l},n?Object(a.a)(n,t):Object(a.b)(t)),Object(r.m)(e.data,"creativeFormatPixel")&&(d=(c=(c=e).data.creativeFormatPixel).vendorId,l=void 0===(l=c.pixelData)?{}:l,d&&("creativeFormatBidPixel"===c.type&&(u={_type:"creativeFormatBidPixel",cfbp:1,c:"dtb",vendorId:d},(s=void 0===(s=l.bi)?"":s)&&(u.bi=s),Object(a.b)(u)),"creativeFormatImpressionPixel"===c.type&&(s=l.bi,c=void 0===(u=l.ii)?"":u,u={_type:"creativeFormatImpressionPixel",cfip:1,c:"dtb",vendorId:d,bp:void 0===(u=l.bp)?0:u,bpc:void 0===(d=l.bpc)?"USD":d},(l=void 0===s?"":s)&&(u.bi=l),c&&(u.ii=c),Object(a.b)(u))))):e.data&&"adBlocked"===e.data&&(n={_type:"adBlockedPixel",c:"dtb",pid:i.b,abc:1,u:Object(o.g)(window)},Object(a.b)(n))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(3),o=n(1);function i(t){try{if(!1!==window.apstag.isGDPRRegion||"function"!=typeof document.hasTrustToken)return void Object(r.c)("trustToken","notSupported");t.trustTokenParameter={type:"send-redemption-record",issuers:["https://www.amazon.com"],refreshPolicy:"none",includeTimestampHeader:!0,signRequestData:"headers-only",additionalSigningData:"additional_signing_data"},Object(r.c)("trustToken","supported"),document.hasTrustToken("https://www.amazon.com").then((function(t){t&&Object(r.c)("trustToken","present")})).catch((function(){Object(r.c)("trustToken","absent")}))}catch(t){Object(o.b)(t,"trustToken")}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));e=n(16);var r=n(21),o=n(5),i=n(18);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);n=e?(n=p(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===a(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return b(r)}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t);var n=f(a);function a(t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");return m(b(t=n.call(this,t)),"_sizesDelegate",void 0),t._sizesDelegate=new r.a(t.rawSlot.sizes),t}return e=a,(t=[{key:"mediaType",get:function(){return o.a.VIDEO}},{key:"aaxMediaType",get:function(){return i.a.VIDEO}},{key:"sizes",get:function(){return this._sizesDelegate.sizes}},{key:"aaxSizes",get:function(){return this._sizesDelegate.aaxSizes||[]}},{key:"aaxSlot",get:function(){var t=s(s({},d(p(a.prototype),"aaxSlot",this)),{},{id:this.slotID,mt:this.aaxMediaType});return 0<this.sizes.length&&(t.s=this.aaxSizes),t}}])&&u(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),a}(e.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a="__tcfapi",c="isListenedTo",s=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");i(this,"store",void 0),i(this,"globalContext",void 0),this.store=e.stateContainer,this.globalContext=e.globalContext}var e,n;return e=t,(n=[{key:"isListenedTo",get:function(){var t;return(null===(t=this.store.getState().consentManagementPlatform)||void 0===t?void 0:t[c])||!1},set:function(t){this.store.dispatch(i({type:"RECORD_CMP_LISTENED_TO"},c,t))}},{key:"writeConsentDataToStore",value:function(t){this.store.dispatch(i({type:"RECORD_CMP_CONSENT_DATA"},"tcData",t))}},{key:"onConsentDataChange",value:function(t,e,n){try{if(e)return this.isListenedTo=!0,t&&this.writeConsentDataToStore(t),void(null!=n&&n(!0));null!=n&&n(!1)}catch(t){Object(r.b)(t,"attemptConsentDataSync-onConsentDataChange")}}},{key:"syncConsentData",value:function(t){var e=this;this.globalContext[a]?this.globalContext[a]("addEventListener",2,(function(n,r){return e.onConsentDataChange(n,r,t)})):null!=t&&t(!1)}},{key:"syncConsentDataIfNotSynced",value:function(t){this.isListenedTo?null!=t&&t(!0):this.syncConsentData(t)}},{key:"attemptConsentDataSync",value:function(t){try{this.syncConsentDataIfNotSynced(t)}catch(e){Object(r.b)(e,"attemptConsentDataSync"),null!=t&&t(!1)}}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return h})),(e=r=r||{}).LOCAL_STORAGE="LOCAL",e.CSS_SELECTOR="CSS",e.URL="URL",(o=o||{}).EMAIL="email";var r,o,i=n(4),a=n(1),c=n(15);function s(t,e){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t){return t.then((function(t){return Array.from(new Uint8Array(t)).map((function(t){return t.toString(16).padStart(2,"0")})).join("")})).then((function(t){return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"!==t?t:""}))}function l(t,e){return t instanceof window.HTMLInputElement||t instanceof window.HTMLTextAreaElement?f(t.value,e)?d(window.crypto.subtle.digest("SHA-256",(new window.TextEncoder).encode(t.value||""))):Promise.resolve(""):f(t.innerText,e)?d(window.crypto.subtle.digest("SHA-256",(new window.TextEncoder).encode(t.innerText||""))):Promise.resolve("")}var f=function(t,e){return"string"==typeof t&&(e===o.EMAIL?/\S+@\S+\.\S+/.test(t)||Object(c.c)(t):0<t.trim().length)},b=function(t,e,n){if(0===(n=n||window.document.querySelectorAll(t)).length)return new Promise((function(t){return t("")}));if(1===n.length)return l(n[0],e);var r,o=[],i=s(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;o.push(l(a,e))}}catch(t){i.e(t)}finally{i.f()}return Promise.all(o).then((function(t){var e,n=null,r=s(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(""!==o){if(null!==n&&("string"!=typeof n||n!==o))return"";n=o}}}catch(t){r.e(t)}finally{r.f()}return n||""}))};function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t){if(Promise&&TextEncoder&&window.crypto&&window.crypto.subtle)if("1"===window.localStorage.getItem(i.e))try{!function(){var t,e,n,o,i,s,u=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},d=1<arguments.length?arguments[1]:void 0,l=(t=u.methods||[],g(e={},r.LOCAL_STORAGE,5),g(e,r.URL,4),g(e,r.CSS_SELECTOR,3),n=e,o={},t.forEach((function(t){o[t.method]=(o[t.method]||0)+1,t.priority=o[t.method]})),t.sort((function(t,e){return t.method===e.method?(t.priority||0)>(e.priority||0)?1:-1:n[t.method]>n[e.method]?-1:1})),[]),y=m(u.methods||[]);try{var h=function(){var t=s.value,e=t.method,n=t.target,o=t.type,u="";switch(e){case r.LOCAL_STORAGE:u=function(t,e){return(t=window.localStorage.getItem(t))&&f(t,e)?t:""}(n,o);break;case r.URL:l.push(function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location.href;try{t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return Array.isArray(n)&&"string"==typeof n[2]&&0!==decodeURIComponent(n[2].replace(/\+/g," ")).trim().length&&Object(c.c)(decodeURIComponent(n[2].replace(/\+/g," ")))?Promise.resolve(decodeURIComponent(n[2].replace(/\+/g," "))):new Promise((function(t){return t("")}))}catch(t){return Object(a.b)(t,"retrieveUrl"),Promise.resolve("")}}(n).then((function(t){return{type:o,value:t}})));break;case r.CSS_SELECTOR:i=t}if(0<u.length)return d({value:u,type:o}),{v:void 0}};for(y.s();!(s=y.n()).done;){var O=h();if("object"===p(O))return O.v}}catch(t){y.e(t)}finally{y.f()}function j(){var t,e,n,r,o,a;i&&(!0===i.isGlobalSubmit||"string"==typeof i.eventTarget&&"string"==typeof i.event)?(e=(t=i).eventTarget,n=t.target,r=t.type,o=t.isGlobalSubmit,"string"==typeof(a=o?"submit":i.event)&&0!==a.length?window.addEventListener(a,(function t(i){var c,s,u,l,f,p,m,y,g;s=(i={e:i,event:a,eventTarget:e,isGlobalSubmit:o,target:n,type:r,onDone:d,listener:t}).e,u=i.eventTarget,l=i.event,f=i.isGlobalSubmit,p=i.target,m=i.type,y=i.onDone,g=i.listener,f||"window"===u||s.target&&"function"==typeof s.target.matches&&"string"==typeof u&&s.target.matches(u)?(f&&s instanceof window.Event&&s.target&&(c=s.target.querySelectorAll('input[type="email"]')),b(p,m,c).then((function(t){"function"==typeof g&&window.removeEventListener(l,g),y(!(t.length<1)&&{value:t,type:m})}))):y(!1)})):d(!1)):d(!1)}0!==l.length?Promise.all(l).then((function(t){var e,n=m(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(0<r.value.length)return void d(r)}}catch(t){n.e(t)}finally{n.f()}j()})):j()}(t,(function(t){!1!==t&&Object(c.e)({hashedRecords:[{type:t.type,record:t.value}]})}))}catch(t){Object(a.b)(t,"retrieveRecords-retrieve")}else Object(a.b)(new Error("GDPR consent not present/valid"),"retrieveRecords")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));e=n(16);var r=n(5),o=n(18),i=n(0),a=n(1),c=n(21);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this,r=t;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");u(this,"_propertyConfig",void 0),u(this,"_sizesDelegate",void 0),this._propertyConfig=e,this._sizesDelegate=new c.a(null==e?void 0:e.sizes,!1,!0)}var e,n;return e=t,(n=[{key:"sizes",get:function(){return this._sizesDelegate.sizes}},{key:"validSizes",get:function(){return this._sizesDelegate.isValid()}},{key:"propertyConfig",get:function(){return this._propertyConfig}},{key:"aaxPropertyConfig",get:function(){var t={};return this.aaxSizes&&(t.s=this.aaxSizes),t}},{key:"aaxSizes",get:function(){return this._sizesDelegate.aaxSizes}},{key:"isValid",value:function(){return!Object(i.l)(this.propertyConfig)||Array.isArray(this.propertyConfig)?(Object(a.b)({name:"MultiFormatSlot-InvalidMultiFormatSlotProperty",message:"multiFormatProperty must be an object"},"MultiFormatSlotProperty-isValid",!0),!1):!!this.validSizes}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(){function t(e){var n=this;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");f(this,"_multiFormatProperties",void 0),e&&Object(i.l)(e)&&!Array.isArray(e)&&(this._multiFormatProperties={},this.toMultiFormatMediaTypes(e).forEach((function(t){n._multiFormatProperties&&(n._multiFormatProperties[t]=new d(e[t]))})))}var e,n;return e=t,(n=[{key:"convertMultiFormatMediaType",value:function(t){var e;return f(e={},r.a.VIDEO,o.a.VIDEO),f(e,r.a.DISPLAY,o.a.DISPLAY),e[t]}},{key:"isMultiFormatMediaType",value:function(t){return Boolean(this.convertMultiFormatMediaType(t))}},{key:"toMultiFormatMediaTypes",value:function(t){var e=this;return Object.keys(t).filter((function(t){return e.isMultiFormatMediaType(t)}))}},{key:"multiFormatMediaTypes",get:function(){return this._multiFormatProperties?this.toMultiFormatMediaTypes(this._multiFormatProperties):[]}},{key:"aaxMultiFormatProperties",get:function(){var t=this;if(!this._multiFormatProperties)return{};var e={};return this.multiFormatMediaTypes.forEach((function(n){var r=t.convertMultiFormatMediaType(n);r&&(e[r]=null===(r=t._multiFormatProperties[n])||void 0===r?void 0:r.aaxPropertyConfig)})),e}},{key:"isValid",value:function(){var t=this,e=!0;return this._multiFormatProperties?(this.multiFormatMediaTypes.forEach((function(n){t._multiFormatProperties[n].isValid()||(e=!1)})),e):(Object(a.b)({name:"MultiFormatSlot-InvalidMultiFormatProperties",message:"multiFormatProperties must be an object"},"MultiFormatProperties-isValid",!0),!1)}}])&&l(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function m(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){var e=i;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t);var n=function(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v(t);n=e?(n=v(this).constructor,Reflect.construct(r,arguments,n)):r.apply(this,arguments),r=this;if(n&&("object"===p(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return j(r)}}(i);function i(t){var e;if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");return S(j(e=n.call(this,t)),"_multiFormatPropertiesDelegate",void 0),e._multiFormatPropertiesDelegate=new b(t.multiFormatProperties),e}return e=i,(t=[{key:"mediaType",get:function(){return r.a.MULTI_FORMAT}},{key:"aaxMediaType",get:function(){return o.a.MULTI_FORMAT}},{key:"aaxMultiFormatProperties",get:function(){return this._multiFormatPropertiesDelegate.aaxMultiFormatProperties}},{key:"multiFormatPropertiesIsValid",get:function(){return this._multiFormatPropertiesDelegate.isValid()}},{key:"aaxSlot",get:function(){return y(y({},h(v(i.prototype),"aaxSlot",this)),{},{id:this.slotID,sd:this.slotID,sn:this.slotName||this.slotID,mt:this.aaxMediaType,mfp:this.aaxMultiFormatProperties})}},{key:"isValid",value:function(){return h(v(i.prototype),"isValid",this).call(this)&&this.multiFormatPropertiesIsValid}}])&&g(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),i}(e.a)},function(t,e,n){t.exports=n(36)},function(e,n,t){"use strict";t.r(n);var o=t(17),h=t(2),w=t(8),r=t(14),O=t(0),g=t(12),_=t(7),v=t(4),a=t(13),E=t(23),D=t(20),j=t(3),S=t(1),I=t(10),i=t(25),c=t(26),b=t(6),p=t(9),m=t(5),T=t(11),s=t(24),u=t(15),d=t(30),l=t(33),P=t(27),A=t(31),R=t(22),C=t(34),f=t(32);function k(t){return B(t)||L(t)||x(t)||z()}function z(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(t,e){if(t){if("string"==typeof t)return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(t,e):void 0}}function L(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function B(t){if(Array.isArray(t))return M(t)}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){U(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}try{var q=Object(c.b)(window.apstag);if(q)Object(S.b)(new Error("apstag has already loaded - preventing duplicate load"),"apstag-duplicateLoad",!0);else{Object(c.a)(window)&&Object(S.b)(new Error("apstag was loaded and then destroyed"),"apstag-destroyReload",!0),window.apstagLOADED=!0;var V=Object(a.e)(window,"navigationStart"),H=(Object(j.c)("library","apstag-".concat(v.l)),new f.a({stateContainer:h.a,globalContext:window})),G=(H.attemptConsentDataSync(),"ls"),Q=Object(_.d)("console")||function(){try{return-1!==window.location.href.indexOf("amzn_debug_console=1")&&(G="url",!0)}catch(t){return!1}}(),X=Object(_.d)("console_v2")||function(){try{return-1!==window.location.href.indexOf("amzn_debug_console=2")&&(G="url",!0)}catch(t){return!1}}(),J;function W(t){try{t.ts=Date.now(),h.a.dispatch({type:"LOG_EVENT",event:t})}catch(t){Object(S.b)(t,"_logEvent")}}function Y(t){function e(t){try{var e;h.a.getState().cmpFired||(h.a.dispatch({type:"CMP_FIRED"}),(e=document.createElement("iframe")).style.display="none",e.src=t,document.body.appendChild(e))}catch(t){Object(S.b)(t,"_doCookieMatch-ready")}}try{"loading"===document.readyState?document.addEventListener&&document.addEventListener("DOMContentLoaded",(function(){e(t)}),!1):e(t)}catch(t){Object(S.b)(t,"_doCookieMatch")}}function K(t){try{var e=h.a.getState().cfg.COOKIE_MATCH_DELAY;setTimeout((function(){try{Object(O.m)(t,"cmp")?Y(t.cmp):Object(O.m)(t,"cmpjs")&&Object(I.b)(t.cmpjs)}catch(t){Object(S.b)(t,"_tryCookieMatch-setTimeout")}}),e)}catch(t){Object(S.b)(t,"_tryCookieMatch")}}function $(t){try{return!h.a.getState().experiments.chunkRequests||0===h.a.getState().bidReqs[t.split("-")[0]].networkReqs.filter((function(t){return t.inFlight})).length}catch(t){return Object(S.b)(t,"_isRequestComplete"),1}}function Z(t,e){try{!h.a.getState().bidReqs[t].hasCallbackExecuted&&$(t)&&(h.a.dispatch({type:"RECORD_CALLBACK",fid:t}),e())}catch(t){Object(S.b)(t,"_checkAndCallCallback")}}function tt(t){try{h.a.getState().experiments.chunkRequests&&h.a.dispatch({type:"RECORD_NETWORK_EXCHANGE",fid:t[0],timestamp:Date.now(),exchangeType:"response",networkID:parseInt(t[1],10)})}catch(t){Object(S.b)(t,"_recordResponse")}}function et(t,r,e){var o=e.split("-"),n={url:t,withCredentials:!0,onload:function t(e){try{tt(o);var n=e.responseText;eval(n),Z(o[0],r)}catch(t){Object(S.b)(t,"_xhrBid-onload",!0)}},onerror:function(){try{tt(o),Z(o[0],r)}catch(t){Object(S.b)(t,"_xhrBid-onerror",!0)}}};Object(d.a)(n);try{Object(I.d)(n)}catch(t){Object(S.b)(t,"_xhrBid",!0),tt(o),Z(o[0],r)}}function nt(t){try{var e=new Date;return e.setTime(e.getTime()+1e3*t),e.toUTCString()}catch(t){return Object(S.b)(t,"_getCookieExpiry"),"Thu, 01 Jan 1970 00:00:00 GMT"}}function rt(t){try{Object(O.m)(t,"cr")&&t.cr.forEach((function(t){document.cookie="".concat(t.k,"=").concat(t.v,";expires=").concat(-1!==t.exp?nt(t.exp):Object(O.h)(365),";path=/;")}))}catch(t){Object(S.b)(t,"_setFirstPartyCookies")}}function ot(t){try{var e;Object(O.m)(t,"cb")&&(h.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:t.cb,key:"resTs",value:Date.now()}),e=new RegExp("e/dtb/bid.*cb=".concat(t.cb)),h.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:t.cb,key:"perf",value:Object(a.c)(window,e)})),Object(O.m)(t,"cfg")&&h.a.dispatch({type:"SET_CFG",cfg:t.cfg}),Nt(t)}catch(t){Object(S.b)(t,"_doOnAaxResponse",!0)}}function it(t){try{if(K(t),rt(t),Object(O.m)(t,"cfg")&&localStorage.setItem(v.d,JSON.stringify(t.cfg)),Object(O.m)(t,"st")&&Object(O.j)(t.st,917)&&h.a.getState().sync917){h.a.dispatch({type:"SET_SYNC_917",value:!1});try{_t()}catch(t){Object(S.b)(t,"__error-doFbSync__")}}at(t),Object(w.j)(t)||Object(j.g)()}catch(t){Object(S.b)(t,"_doAfterAaxResponse",!0)}}function at(t){try{var e;Object(O.m)(t,"fp")&&(e=t.fp,Object(O.m)(e,"length")&&e.forEach((function(t){var e=t.d||0;setTimeout((function(){Object(j.f)(t.s)}),e)})))}catch(t){Object(S.b)(t,"fireAAXPixels")}}function ct(){try{h.a.getState().Q.forEach((function(t){var e="init";switch(t[0]){case"i":e="init";break;case"f":e="fetchBids";break;case"di":e="deleteId";break;case"ri":e="renewId";break;case"ui":e="updateId";break;default:return}window.apstag[e].apply(null,t[1])}))}catch(t){Object(S.b)(t,"_QHandler",!0)}}function st(t){try{Object(O.l)(t)||(Object(S.c)("init.config",y(t),"object"),t={pubID:"err"}),Object(T.b)(t.pubID,["string","number"])?"number"==typeof t.pubID&&(t.pubID="".concat(t.pubID)):Object(S.c)("init.config.pubID",y(t.pubID),"string"),Object(T.b)(t.adServer,["undefined","string"])||Object(S.c)("init.config.adServer",y(t.adServer),"string"),Object(T.a)(t.bidTimeout)||("string"==typeof t.bidTimeout?Object(S.b)({name:"string-".concat(t.bidTimeout),message:"init.config.bidTimeout was a non-numeric string '".concat(t.bidTimeout,"'")},"TypeError-init.config.bidTimeout",!0):Object(S.c)("init.config.bidTimeout",y(t.bidTimeout),"number")),Object(T.b)(t.gdpr,["undefined","object"])?"object"===y(t.gdpr)&&(Object(T.a)(t.gdpr.cmpTimeout)||(Object(T.b)(t.gdpr.cmpTimeout,["string","undefined"])?Object(S.b)({name:"string-".concat(t.bidTimeout),message:"init.config.gdpr.cmpTimeout was a non-numeric string '".concat(t.gdpr.cmpTimeout,"'")},"TypeError-init.config.gdpr.cmpTimeout",!0):Object(S.c)("init.config.gdpr.cmpTimeout",y(t.gdpr.cmpTimeout),"number"))):Object(S.c)("init.config.gdpr",y(t.gdpr),"object"),Object(O.m)(t,"params")&&!Object(O.l)(t.params)?Object(S.c)("init.config.params",y(t.params),"object"):Object(O.m)(t,"params")&&Object.keys(t.params).forEach((function(e){return!(!Object(O.m)(t,"params")||"string"!=typeof t.params[e]&&"number"!=typeof t.params[e]&&(Object(O.k)(t.params[e])?!t.params[e].reduce((function(t,e){return t&&("string"==typeof e||"number"==typeof e)}),!0)&&(Object(S.b)({name:"non-string array item",message:"'init.config.params.".concat(e," contains a non-string item")},"TypeError-init.config.params.".concat(e),!0),1):(Object(S.c)("init.config.params.".concat(e),y(t.params[e]),"string' or 'array"),1)))})),Object(O.m)(t,"params")&&Object(O.m)(t.params,"us_privacy")&&"string"==typeof t.params.us_privacy&&v.z.test(t.params.us_privacy)?Object(j.c)("ccpa","y"):Object(O.m)(t,"params")&&Object(O.m)(t.params,"us_privacy")?Object(j.c)("ccpa","i"):Object(j.c)("ccpa","n"),Object(O.m)(t,"blockedBidders")&&!Object(O.k)(t.blockedBidders)?Object(S.c)("init.config.blockedBidders",y(t.blockedBidders),"array"):Object(O.m)(t,"blockedBidders")&&Object(O.k)(t.blockedBidders)&&(t.blockedBidders.reduce((function(t,e){return t&&("string"==typeof e||"number"==typeof e)}),!0)||Object(S.b)({name:"non-string array item",message:"'init.config.blockedBidders contains a non-string item"},"TypeError-init.config.blockedBidders",!0)),Object(O.m)(t,"blockedBidders")?Object(j.c)("blockedBidders-init","y"):Object(j.c)("blockedBidders-init","n"),Object(T.b)(t.simplerGPT,["undefined","boolean"])||Object(S.c)("init.config.simplerGPT",y(t.simplerGPT),"boolean"),t.simplerGPT?Object(j.c)("simplerGpt","y"):Object(j.c)("simplerGpt","n"),Object(T.b)(t.deals,["undefined","boolean"])||Object(S.c)("init.config.deals",y(t.deals),"boolean"),t.deals?Object(j.c)("deals","y"):Object(j.c)("deals","n"),Object(T.b)(t.schain,["undefined","object"])&&null!==t.schain?Object(O.m)(t,"schain")&&!Object(p.h)(t.schain)&&delete t.schain:(Object(S.c)("init.config.schain",y(t.schain),"object"),delete t.schain),Object(O.m)(t,"schain")?Object(j.c)("schain","y"):Object(j.c)("schain","n"),Object(T.b)(t.useSafeFrames,["undefined","boolean"])||(Object(S.c)("init.config.useSafeFrames",y(t.useSafeFrames),"boolean"),delete t.useSafeFrames),t.useSafeFrames?Object(j.c)("useSafeFrames","y"):Object(j.c)("useSafeFrames","n")}catch(e){Object(S.b)(e,"_validateAndStoreConfig-validateConfig")}try{var e=h.a.getState().config;Object(O.m)(e,"pubID")&&Object(O.m)(t,"pubID")&&e.pubID!==t.pubID&&Object(S.b)(new Error("`apstag.init` was called multiple times with different pubIDs (".concat(e.pubID," then ").concat(t.pubID,")")),"_validateAndStoreConfig-diffPubId",!0),h.a.dispatch({type:"SET_CONFIG",config:t,defaultCmpTimeout:h.a.getState().cfg.GDPR_CMP_TIMEOUT})}catch(e){Object(S.b)(e,"_validateAndStoreConfig",!0)}}function ut(t){try{var e=t.slotID,n=!1;if(Object(O.m)(t.bidConfig,"amznbid")&&"o_"===t.bidConfig.amznbid.slice(0,2)&&(n=!0),Object(O.m)(t.bidConfig,"mediaType")&&"v"===t.bidConfig.mediaType&&!1===n)return;if(!window.IntersectionObserver&&n)return void Object(S.b)({name:"IntersectionObserver",message:"IntersectionObserver not supported "},"_safeApplySlotTargeting");if(!b.a.hasAdServerObjectLoaded())return void Object(S.a)("displayAdServer Object hasn't been defined",!0);if(!b.a.isCommandQueueDefined())return void Object(S.a)("displayAdServer Object's cmd queue hasn't been defined",!0);b.a.hasAdServerObjectLoaded()?null!==dt(e)?vt(t):Object(S.a)("".concat(e," isn't defined when trying to set amazon bid!")):b.a.cmdQueuePush((function(){ut(t)}))}catch(t){Object(S.b)(t,"_safeApplySlotTargeting",!0)}}function dt(t){var e=null;try{e=Object(g.b)(b.a).filter((function(e){return e.slotID===t}))[0]||null}catch(e){Object(S.b)(e,"_getAdServerSlot")}return e}function lt(t){try{var e=h.a.getState().targetingKeys[t.slotID];b.a.hasAdServerObjectLoaded()&&Object(O.k)(e)&&e.forEach((function(e){return 0<t.getTargeting(e).length&&t.clearTargeting(e)}))}catch(e){Object(S.b)(e,"_clearTargetingFromSlot",!0)}}function ft(t){try{var e;!Object(O.m)(h.a.getState().slotBids,t.slotID)||(e=h.a.getState().slotBids[t.slotID].filter((function(t){return t.bidState===v.c.set}))[0])&&e.bidState===v.c.set&&h.a.dispatch({type:"BID_STATE_CHANGE",slotID:t.slotID,_targetingSetID:e._targetingSetID,bidState:v.c.exposed})}catch(t){Object(S.b)(t,"_clearBidSetOnSlot",!0)}}function bt(t,e){try{return t.map((function(t){return Object(O.j)(e,t)})).filter((function(t){return t})).length===t.length}catch(t){return void Object(S.b)(t,"_hasAllItemsInArray")}}function pt(){var t={};try{Object.keys(h.a.getState().slotBids).forEach((function(e){var n=h.a.getState().slotBids[e].filter(p.f);0<n.length&&(t[e]=n.map((function(t){var e=h.a.getState().AAXReqs.filter((function(e){return e.bidReqID===t.bidReqID})),n=0;return 0<e.length?n=e[0].rqTs:(e=h.a.getState().AAXReqs.map((function(t){return t.bidReqID})).join(", "),Object(S.b)({name:"BidError",message:"Request not found: ".concat(t.bidReqID," not found in ").concat(e)},"_getCurrentSlotBids-noRequest")),{rqTs:n,bid:t}})).reduce((function(t,e){return t.rqTs>e.rqTs?t:e})).bid)}))}catch(t){Object(S.b)(t,"_getCurrentSlotBids",!0)}return t}function mt(t,e){try{return Object(O.k)(h.a.getState().targetingKeys[t])?e?["amzniid_sp"]:h.a.getState().targetingKeys[t].filter((function(t){return-1<t.indexOf("amzniid")&&t.indexOf("amzniid_sp")<0})):["amzniid"]}catch(t){return Object(S.b)(t,"_getAllBidIdKeys"),[]}}function yt(t,e){var n,r;try{var o=h.a.getState().slotBids;Object.keys(o).forEach((function(i){o[i].forEach((function(o){mt(i,e).forEach((function(e){o.bidConfig[e]===t&&(n=o,"amzniid_sp"===e?r="sp":"amzniid"!==e&&(r=e.substr(0,e.indexOf("amzniid"))))}))}))}))}catch(t){Object(S.b)(t,"_findSlotBidByBidID",!0)}return{slotBid:n,dealId:r}}function gt(t,e,n){var r="";try{e.bidConfig[n+"amzniid"]===t&&(r=n.split("_").pop().trim())}catch(t){Object(S.b)(t,"_getPMPBidSize")}return r}function ht(t){try{if(void 0===t.slots)return[];var e={};return t.slots.forEach((function(t){t.mediaType!==m.a.VIDEO&&"v"!==t.mediaType&&"v"!==t.mediaType_sp?e[t.slotID]=new p.a(t):(0<=t.slotID.indexOf("rsv-")&&(t={slotID:t.slotID.substring(4),r_amznbid:t.amznbid,r_amzniid:t.amzniid,r_amznp:t.amznp,mediaType:m.a.VIDEO,targeting:["r_amznbid","r_amzniid","r_amznp"],amznsz:t.amznsz,size:t.size,crid:t.crid,meta:t.meta}),Object(O.m)(e,t.slotID)?t.targeting.forEach((function(n){e[t.slotID].bidConfig[n]=t[n],-1===e[t.slotID].bidConfig.targeting.indexOf(n)&&e[t.slotID].bidConfig.targeting.push(n)})):e[t.slotID]=new p.a(t))})),Object.keys(e).map((function(t){return e[t]}))}catch(t){return Object(S.b)(t,"_mergeVideoBids"),[]}}function Ot(t){var e=ht(t),n=[];try{n=e.map((function(e){return e.bidReqID=t.cb,e.host=t.host,e.ev=t.ev,e.cfe=t.cfe,e}))}catch(e){Object(S.b)(e,"_convertAaxResponse")}return n}function vt(t){try{var e=t.slotID,n=t._targetingSetID;if(t.bidState===v.c.set)return;var r,o=dt(e);null!==o&&(ft(o),r=t.newBidObject,Object.keys(r.targeting).forEach((function(t){return o.setTargeting(t,r.targeting[t])})),h.a.dispatch({type:"BID_STATE_CHANGE",slotID:e,_targetingSetID:n,bidState:v.c.set,ts:Date.now()}))}catch(t){Object(S.b)(t,"_applyTargetingToAdServerSlot",!0)}}function jt(t){try{var e=pt();t.forEach((function(t){e[t]&&ut(e[t])}))}catch(t){Object(S.b)(t,"_applySuppliedSlotBidsToAdServerObject",!0)}}function St(){try{var t=pt();Object.keys(t).forEach((function(e){return ut(t[e])}))}catch(t){Object(S.b)(t,"_applyAllCurrentSlotBidsTargetingToAdServerObject",!0)}}function wt(t){try{t?(Object(j.c)("targeting","setDisplayBids-list"),jt(t)):(Object(j.c)("targeting","setDisplayBids-all"),St()),h.a.getState().displayAdServer.slotRenderEndedSet||(b.a.cmdQueuePush((function(){try{b.a.slotRenderEndedEvent((function(t){try{lt(t),ft(t)}catch(t){Object(S.b)(t,"_applySlotTargeting-cmdQueue-slotCb",!0)}}))}catch(t){Object(S.b)(t,"_applySlotTargeting-cmdQueue",!0)}})),h.a.dispatch({type:"SLOT_RENDER_ENDED_SET"}))}catch(t){Object(S.b)(t,"_applySlotTargeting",!0)}}function _t(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="1881141382166183";function n(t){try{var e=JSON.parse(t),n=e.fbToken,r=new Date(parseInt(e.expAfter,10)).toUTCString();document.cookie="aps_ext_917=".concat(n,"; expires=").concat(r)}catch(t){Object(S.b)(t,"_doFbSync-setFbCookie")}}function r(e){try{!function(t,e,n){try{var r=function(t,e){try{return"".concat("https://www.facebook.com/audiencenetwork/token/update","?partner=").concat(encodeURIComponent(t),"&vr_token=").concat(encodeURIComponent(e))}catch(t){return Object(S.b)(t,"_doFbSync-getUpdateUrl"),""}}(t,e),o=n;try{var i={url:r,withCredentials:!0,onload:function(t){return o(t.responseText)}};Object(I.d)(i)}catch(t){Object(S.b)(t,"_doFbSync-sendTokenRequest")}}catch(t){Object(S.b)(t,"_doFbSync-getV4Token")}}(e,function(){try{for(var e="VR_",n=0;n<197;++n)e+=t.charAt(Math.floor(Math.random()*t.length));return e}catch(e){return Object(S.b)(e,"_doFbSync-getVrToken"),""}}(),n)}catch(e){Object(S.b)(e,"_doFbSync-getTokenResponse")}}try{"complete"===document.readyState?r(e):window.addEventListener("load",(function(){r(e)}))}catch(e){Object(S.b)(e,"_doFbSync")}}function Et(t,e){function n(){if(!o)if(20<=i++)Object(S.b)({name:"LoopError",message:"Too many attempts to append to document.body"},"_safeDocumentBodyAppendChild-callback-loops",!0);else{try{if(t&&t.body&&null!==t.body&&"function"==typeof t.body.appendChild)return t.body.appendChild(e),r(),void(o=!0)}catch(t){Object(S.b)(t,"_safeDocumentBodyAppendChild-callback")}setTimeout(n,100)}}var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},o=!1,i=0;try{"complete"===t.readyState||"interactive"===t.readyState?(Object(j.c)("appended","sync"),n()):(Object(j.c)("appended","async"),t.addEventListener("DOMContentLoaded",n))}catch(t){Object(S.b)(t,"_safeDocumentBodyAppendChild")}}function Dt(t){try{var e="".concat(t.host).concat(h.a.getState().cfg.DTB_PATH,"/imp"),n="".concat(t.host).concat(h.a.getState().cfg.DTB_PATH,"/adm");return t.cfe||t.isAmp||t.isSf?n:e}catch(t){return Object(S.b)(t,"determineCreativeFetchEndpoint"),""}}function It(t){try{var e,n="?b=".concat(t.bidID,"&rnd=").concat(Object(O.f)());return Object(O.m)(t,"pp")&&(n+="&pp=".concat(t.pp)),Object(O.m)(t,"amznp")&&(n+="&p=".concat(t.amznp)),Object(O.m)(t,"crID")&&(n+="&crid=".concat(t.crID)),Object(O.m)(t,"isSharedPMP")&&!0===t.isSharedPMP&&(n+="&sp=true"),Object(s.d)()&&(n+="&ep=%7B%22ce%22%3A%221%22%7D"),e=Dt(t),(t.fif?"".concat(e,"j"):"".concat(e,"i")).concat(n)}catch(t){return Object(S.b)(t,"_creativeURL"),""}}function Tt(t){try{var e=t.doc.createElement("iframe");return e.frameBorder="0",e.marginHeight="0",e.marginWidth="0",e.style.marginTop="0",e.style.marginLeft="0",e.scrolling="no",t.inheritSize?(e.style.width="100%",e.style.height="100%"):(e.style.width="".concat(t.sizes[0],"px"),e.style.height="".concat(t.sizes[1],"px")),e}catch(t){return Object(S.b)(t,"_baseIframe"),window.document.createElement("iframe")}}function Pt(t){try{if(Object(O.m)(t,"bidType")){var e,n=t.kvMap;switch(t.bidType){case"sharedPMP":return{bidID:n.amzniid_sp[0],pp:n.amznbid_sp[0],sizes:n.amznsz_sp[0].split("x"),amznp:n.amznp_sp[0],inheritSize:t.inheritSize,isSharedPMP:t.isSharedPMP};case"preferredPMP":if(Object(m.c)(t)&&Object(O.m)(t,"amzndeal"))return e=t.amzndeal.split("_").pop().trim(),{bidID:n["".concat(t.amzndeal,"amzniid")][0],sizes:le(e)};break;case"openAuction":if(Object(m.c)(t))return{bidID:n.amzniid[0],pp:Object(w.c)(n.amznbid[0]),amznp:n.amznp[0],inheritSize:t.inheritSize,sizes:n.amznsz[0].split("x")};if(Object(m.d)(t))return{bidID:t.amzniid,pp:Object(w.c)(t.amznbid),amznp:t.amznp,sizes:t.amznsz.split("x")};break;default:Object(S.b)({name:"Invalid AMP Bid Type: ".concat(t.bidType),message:"No valid AMP bid type"},"getAmpAdData-invalidBidType")}}}catch(t){Object(S.b)(t,"getAmpAdData")}return{bidID:"ERROR",sizes:[]}}function At(t,e){try{var n=null;if(void 0!==e&&(Object(O.m)(e,"ampEnv")&&e.ampEnv||Object(O.m)(e,"sfEnv")&&e.sfEnv)&&(n=e,Object(O.m)(e,"bidType")&&"sharedPMP"===e.bidType?n.isSharedPMP=!0:n.isSharedPMP=!1,n.document=t,n.amznhost=n.kvMap.amznhost[0]),ue(t)&&((n=t).bidType="openAuction",n.ampEnv=!0),null===n)return void Object(S.b)(new Error("Invalid AMP parameters"),"_renderAmpImpression-invalidParams",!0);var r=Pt(n);if("ERROR"===r.bidID)return;if(r.doc=n.document,r.host=n.amznhost.replace("http://","https://"),r.adID="amznad".concat(Object(O.f)()),r.isAmp=n.ampEnv,r.isSf=Object(E.c)(window),h.a.getState().aaxViewabilityEnabled)return void pe(r,r.doc);Ct(r)}catch(t){Object(S.b)(t,"_renderAmpImpression")}}function Rt(t){var e,n="unknown";function r(r){try{if(r&&(t.hasTimedOut=!0),r&&!t.hasRendered&&Object(S.b)({name:"RenderTimeout",message:"renderAd was called from timeout. fifFlowMethod: ".concat(n)},"__loadAdIntoFriendlyIframe-renderAd-timeout-isOutstream:".concat(t.isOutstream)),null===e.contentDocument)return void Object(S.b)({name:"NoDocument",message:"iframe.contentDocument was null inside renderAd. isFromTimeout: ".concat(r,". fifFlowMethod: ").concat(n)},"__loadAdIntoFriendlyIframe-renderAd-noDocument-isOutstream:".concat(t.isOutstream),!0);if(t.hasRendered&&!t.hasTimedOut)return void Object(S.b)({name:"DupeRender",message:"Render was called twice"},"__loadAdIntoFriendlyIframe-renderAd-rerender-isOutstream:".concat(t.isOutstream),!0);if(t.hasRendered)return;t.hasRendered=!0,e.contentDocument.open(),e.contentDocument.write(t.html),e.contentDocument.close()}catch(r){Object(S.b)(r,"__loadAdIntoFriendlyIframe-renderAd-isOutstream:".concat(t.isOutstream))}}function o(){var o=r.bind(null,!1);try{n=null!==e.contentDocument&&Object(O.j)(["complete","interactive"],e.contentDocument.readyState)?(o(),"doc-ready"):null!==e.contentDocument&&"uninitialized"!==e.contentDocument.readyState?(e.contentDocument.addEventListener("DOMContentLoaded",o),"dom-listener"):(e.addEventListener("load",o),"iframe-listener"),Object(j.c)("fifFlow",n),setTimeout(r,1e3,!0)}catch(o){Object(S.b)(o,"_loadAdIntoFriendlyIframe-setAttributes-isOutstream:".concat(t.isOutstream))}}try{if(Object(j.c)("iframe","friendly"),void 0===t.html)throw new Error("No HTML available for ad, most likely the creative has expired");if(t=F({hasRendered:!1,hasTimedOut:!1},t),(e=Tt(t)).id="apstag-f-iframe-".concat(Object(O.f)()),t.isOutstream)try{var i=Object(D.d)(document,t);if(void 0===i)throw new Error("gpt video div element is undefined");i&&i.firstElementChild&&(i.firstElementChild.style.display="none");var a=Object(D.f)(t.sizes);return Object(D.a)(a,i),Object(D.e)(a,e),o(),void Object(D.g)(a,e,t.bidID)}catch(o){Object(S.b)(o,"_loadAdIntoFriendlyIframe-outstream",!0)}else Et(t.doc,e,o)}catch(o){Object(S.b)(o,"_loadAdIntoFriendlyIframe",!0)}}function Ct(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{states:{csmLoaded:!1,iframeLoaded:!1,shouldRunViewability:!1}},n=2<arguments.length?arguments[2]:void 0;try{Object(j.c)("iframe","unfriendly");var r,o=Tt(t);o.id=t.adID,o.setAttribute("sandbox","allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation"),Object(_.d)("fake_bids")?(r='<body style="background-color: #FF9900;">'.concat(50<parseInt(t.sizes[1],10)?"<h3>apstag Test Creative</h3>":"","<h4>amzniid - ").concat(t.bidID," | amznbid: ").concat(t.pp," | size: ").concat(t.sizes.join("x"),"</h4></body>"),o.src="javascript:'".concat(r,"'")):o.src=It(t),(t.isAmp&&t.isSf&&Object(E.b)(window)||t.isSf&&!t.isAmp&&!t.inheritSize)&&Object(E.a)(t.sizes,window),Et(t.doc,o),(e.iframe=o).onload=function(){e.states.iframeLoaded=!0,n&&n()}}catch(t){Object(S.b)(t,"_loadAdIntoUnfriendlyIframe",!0)}}function kt(t){var e,n=t.states,r=t.doc,o=t.bidID;t=t.iframe;try{if(Object(O.a)(n))return;n.shouldRunViewability=!1,Object(O.m)(window,"amzncsm")?e=window.amzncsm:void 0!==r&&null!==r.defaultView&&Object(O.m)(r.defaultView,"amzncsm")&&(e=r.defaultView.amzncsm),void 0!==r&&void 0!==e&&Object(O.m)(e,"rmD")&&(e.host=Object(_.c)("host",h.a.getState().hosts.DEFAULT_AAX_PIXEL_HOST),e.rmD(t,o,r.defaultView,r,h.a.getState().config.pubID))}catch(t){Object(S.b)(t,"_triggerViewability")}}function zt(t,e){return function(n){try{var r=Object(p.e)(e.slots),o=Object.keys(r),i=[],a=(n&&(h.a.dispatch({type:"RECORD_AAX_REQ_PROP",bidReqID:e.bidReqID,key:"timedOutAt",value:Date.now()}),h.a.getState().experiments.chunkRequests&&h.a.dispatch({type:"RECORD_TIMEOUT",fid:e.bidReqID,timeOut:Date.now()})),o.forEach((function(t){Object(O.m)(r,t)&&(t=r[t],Object(p.g)(h.a.getState(),b.a)||Object(O.m)(t.bidConfig,"amznbid")?Object(O.m)(t.bidConfig,"amznp")||(t.bidConfig.amznp=""):(Object(j.c)("unusedDeal",t.mediaType),t.mediaType!==m.a.VIDEO&&(t.bidConfig.targeting.unshift("amznsz"),t.bidConfig.amznsz="0x0"),t.bidConfig.targeting.unshift("amzniid","amznbid","amznp"),t.bidConfig.amzniid="",t.bidConfig.amznbid=v.u.noBid,t.bidConfig.amznp=v.u.noBid),i.push(t))})),b.a.isSupported&&(i=Object(p.c)(i,e,n)),{fromTimeout:n}),c=Object(p.g)(h.a.getState(),b.a);try{t(i.map((function(t){return c?t.newBidObject:t.bidObject})),a)}catch(o){console.error(o)}}catch(o){Object(S.b)(o,"_bidCallbackHandler",!0);try{t([],{fromTimeout:n,fromError:!0})}catch(o){console.error(o)}}}}function xt(t,e){try{var n,r;e.inheritSize?Object(j.c)("creativeSize","inherited"):(r=t.defaultView&&t.defaultView.frameElement?(n=t.defaultView.frameElement,"defaultView"):(n=window.frameElement,"frameElement"),Object(j.c)("resizeIframe",r),Object(j.c)("creativeSize","resized"),null!==n?(n.style.width="".concat(e.sizes[0],"px"),n.style.height="".concat(e.sizes[1],"px")):Object(S.b)({name:"FrameNotFound",message:"'win' is 'null'. Method used: ".concat(r)},"_resizeIframe-win"))}catch(t){Object(S.b)(t,"_resizeIframe")}}function Lt(t){try{return"".concat(t[0],"x").concat(t[1])}catch(t){return Object(S.b)(t,"_sizeArrayToSring"),"x"}}function Bt(t){try{return 1===t.length?Lt(t[0]):Lt(t[Math.floor(t.length*Math.random())])}catch(t){return Object(S.b)(t,"_pickRandomSizeForMockBid",!0),""}}function Mt(t){try{var e,n=Object(_.c)("host",h.a.getState().hosts.DEFAULT_AAX_BID_HOST),r=Object(w.g)(window),o=t.bidReqID,i=Object(O.i)(window),a=Object(_.c)("testBidTimeout",200);h.a.dispatch({type:"RECORD_AAX_REQUEST",data:{bidConfig:t,timeout:a,bidReqID:o,ws:i,url:r,rqTs:Date.now()}}),e=t.slots.map((function(t){var e=Bt(t.sizes),n=(e="testDeal".concat(Object(O.f)(),"_").concat(e),"testDealIi-".concat(Object(O.f)())),r=Bt(t.sizes);U(r={slotID:t.slotID,crid:"".concat(v.o.crid,"-").concat(Object(O.f)()),size:r,amzniid:"".concat(v.o.amzniid,"-").concat(Object(O.f)()),amznbid:v.o.amznbid,amznp:v.o.amznp,amznsz:r,amzniid_sp:"".concat(v.o.amzniid,"-").concat(Object(O.f)()),amznbid_sp:"".concat(v.o.amznbid,"SP"),amznp_sp:"".concat(v.o.amznp,"SP"),amznsz_sp:Bt(t.sizes),amzndeals:[e]},"".concat(e,"amzniid"),n),U(r,"mediaType","d"),U(r,"meta",["slotID","mediaType","size"]),U(r,"targeting",["amzniid","amznbid","amznp","amznsz","amzniid_sp","amznbid_sp","amznp_sp","amznsz_sp","amzndeal_sp","amzndeals","".concat(e,"amzniid")]),n=r;return t.mediaType===m.a.VIDEO&&(n.mediaType=m.a.VIDEO,n.amznbid="v_".concat(n.amznbid)),n})),setTimeout((function(){window.apstag.bids({slots:e,host:n,status:"ok",cb:o})}),a)}catch(t){Object(S.b)(t,"_doMockBid",!0)}}function Nt(t){try{var e,n,r,o=h.a.getState().AAXReqs.filter((function(e){return e.bidReqID===t.cb}))[0];o&&o.bidConfig&&o.bidConfig.slots&&(e=o.bidConfig.slots.filter(Object(g.d)(m.a.DISPLAY,m.a.MULTI_FORMAT)).map((function(t){return t.slotID})),n=Object(O.m)(t,"slots")?t.slots.map((function(t){return t.slotID})):[],r=e.filter((function(t){return!Object(O.j)(n,t)})),h.a.dispatch({type:"NO_BID_ON_ADSERVER_SLOTS",slotIDs:r}),b.a.hasAdServerObjectLoaded()?qt():b.a.isCommandQueueDefined()&&b.a.cmdQueuePush((function(){qt()})))}catch(e){Object(S.b)(e,"_determineNoBidStateForAdServerObject")}}function Ft(t){return Object(O.j)(h.a.getState().AAXReqs.filter((function(t){return!t.resTs})).map((function(t){return t.bidConfig.slots})).reduce((function(t,e){return t.concat(e)}),[]).map(g.c),t)}function Ut(t){try{var e=t.getTargeting("amznbid");return 0<e.length&&2<e[0].length}catch(t){return Object(S.b)(t,"_isRealAmznbidTargetingSetOnSlot"),1}}function qt(){try{b.a.hasAdServerObjectLoaded()&&"1"===b.a.getTargeting("amznbid")[0]&&Ht(),Object(g.b)(b.a).forEach((function(t){!Object(O.j)(h.a.getState().displayAdServer.noBidSlotIDs,t.slotID)||Ft(t.slotID)||Ut(t)||"2"===t.getTargeting("amznbid")[0]||Vt("noBid",t)}))}catch(t){Object(S.b)(t,"_applyNoBidFromAAXState")}}function Vt(t,e){v.v.forEach((function(n){return e.setTargeting(n,v.u[t])}))}function Ht(){v.v.forEach((function(t){return b.a.clearTargeting(t)}))}function Gt(t){try{var e={_type:"dupePixel",dd:Date.now()-t.timing.renderTime};Object(j.a)(t.bidConfig.amzniid,e)}catch(t){Object(S.b)(t,"_sendDupeBidPixel")}}Object(r.a)()&&(!(J=localStorage.getItem(v.d))||null!==(J=JSON.parse(J))&&h.a.dispatch({type:"SET_CFG",cfg:J})),Object(s.c)();var Qt=0,Xt;function Jt(){try{if(!Object(O.m)(window,"googletag")||!Object(O.m)(window.googletag,"cmd"))return void(++Qt<5&&setTimeout(Jt,100));(new i.a).cmdQueuePush((function(){try{window.googletag.pubads().addEventListener("slotRequested",(function(t){try{var e=t.slot;h.a.dispatch({type:"LOG_GAM_EVENT",event:F(F({},new R.a(e).slotConfig),{},{ts:Date.now(),targeting:e.getTargetingMap()})})}catch(t){Object(S.b)(t,"_initializeSlotRequestedEventListener-cmdQueue-listener")}}))}catch(t){Object(S.b)(t,"_initializeSlotRequestedEventListener-cmdQueue")}}))}catch(t){Object(S.b)(t,"_initializeSlotRequestedEventListener")}}function Wt(t){try{var e=t.AAXReqs.slice(t.gamSlotRenderPixel.aaxReqOffset).reduce((function(t,e){return t.concat(e.bidConfig.slots)}),[]).map((function(t){return F(F({},t),{},{type:"a"})})).filter((function(t){return t.mediaType!==m.a.VIDEO})),n=t.gamSlotFetchLog.slice(t.gamSlotRenderPixel.gamSlotFetchLogOffset).map((function(t){return F(F({},t),{},{type:"g"})})),r=[].concat(k(e),k(n)).reduce((function(t,e){return void 0===t[e.slotID]&&(t[e.slotID]={sd:e.slotID,a:{c:0},g:{c:0}}),t[e.slotID][e.type].c++,t[e.slotID][e.type].s=e.sizes,t[e.slotID][e.type].sn=e.slotName||"",t}),{});return Object.keys(r).map((function(t){return r[t]})).filter((function(t){return 0!==t.a.c||0!==t.g.c}))}catch(t){return Object(S.b)(t,"getSlotFetchCounts"),[]}}function Yt(){try{var t=h.a.getState(),e=Wt(t);0<Object.keys(e).length&&(Object(O.c)(e,5).forEach((function(e){e={slots:e,pid:p.b,url:Object(w.g)(window).split("?")[0],ws:Object(O.i)(window),pubid:t.config.pubID,_type:"slotRenders"},Object(j.b)(e)})),h.a.dispatch({type:"UPDATE_RENDER_OFFSETS",offsets:{aaxReqOffset:t.AAXReqs.length,gamSlotFetchLogOffset:t.gamSlotFetchLog.length}}))}catch(e){Object(S.b)(e,"sendDisplayAdServerRenderPixel")}}function Kt(){setInterval((function(){Yt()}),5e3)}function $t(){try{setTimeout((function(){try{var t=ne().filter((function(t){return!Object(O.m)(h.a.getState().bsPixels,t.iid)||t.state!==h.a.getState().bsPixels[t.iid]})),e=(t&&t.length&&0<t.length&&(t.forEach((function(t){return Object(j.a)(t.iid,te(t))})),Zt(t)),{fetchStart:"a",domainLookupStart:"b",domainLookupEnd:"c",connectStart:"d",secureConnectionStart:"e",connectEnd:"f",requestStart:"g",responseStart:"h",responseEnd:"i"});Object.keys(h.a.getState().slotBids).forEach((function(t){h.a.getState().slotBids[t].forEach((function(n){var r,o,i;!Object(O.m)(n.bidConfig,"amzniid")||n.pixelSent||"object"===y(r=h.a.getState().AAXReqs.filter((function(t){return t.bidReqID===n.bidReqID}))[0])&&null!==r&&(o=r.rqTs-Object(a.d)(),i={pid:p.b,ns:r.bidConfig.validSlots.length,fid:n.bidReqID,fbrq:r.rqTs,_type:"latencyBd"},"object"===y(r.perf)&&null!==r.perf&&Object.keys(e).forEach((function(t){Object(O.m)(r,"perf")&&0!==Object(a.a)(r.perf,t)&&(i[e[t]]=Object(a.a)(r.perf,t)-o)})),i.j=r.resTs-r.rqTs,Object(j.a)(n.bidConfig.amzniid,i),h.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:t,iid:n.bidConfig.amzniid,key:"pixelSent",value:!0}))}))})),$t()}catch(t){Object(S.b)(t,"_sendBidsSetOnDFPPixel-timeout")}}),5e3)}catch(t){Object(S.b)(t,"_sendBidsSetOnDFPPixel")}}function Zt(t){t.forEach((function(t){return h.a.dispatch({type:"RECORD_BID_INFO_SENT",bidInfo:t})}))}function te(t){try{var e=ee(t.fid),n={status:t.state,pubid:h.a.getState().config.pubID,_type:"bidSetPixel",toa:Object(O.m)(e.req,"timedOutAt")?e.req.timedOutAt:0,fbrq:e.req.rqTs,pto:e.req.timeout,ns:e.req.bidConfig.validSlots.length,bla:e.req.resTs-e.req.rqTs,reqindex:e.index,fid:t.fid,tbs:0,c:"dtb"},r=(h.a.getState().cfg.CHUNK_BID_REQUESTS_PROPORTION&&(n.eid=h.a.getState().experiments.chunkRequests?2:1,n.fbindex=e.fbIndex,n.fbns=h.a.getState().bidConfigs[parseInt(t.fid.split("-")[0],10)].slots.length),h.a.getState().experiments),o=(Object(O.m)(r,"shouldUseTestBidEndpoint")&&(n.tbs=r.shouldUseTestBidEndpoint?2:1),t.delta&&(n.delay=t.delta),e.req.perf);return void 0!==o&&(n.ul=e.req.urlLength,n.es=Object(a.a)(o,"encodedBodySize")),0<Object.keys(h.a.getState().identityState).length&&(n.ids=JSON.stringify(h.a.getState().identityState)),0<h.a.getState().tcfParseTime&&(n.tpt=h.a.getState().tcfParseTime),n}catch(t){return Object(S.b)(t,"_mapBidInfoToPixel"),{_type:"bidSetPixel",status:-1,pubid:"",toa:0,fbrq:0,pto:0,ns:0,bla:0,reqindex:0,fid:"",tbs:0,c:"dtb"}}}function ee(t){var e=h.a.getState().AAXReqs.filter((function(e){return e.bidReqID===t}))[0],n=h.a.getState().AAXReqs.indexOf(e)+1;return(e={req:e,index:n,fbIndex:n}).index=h.a.getState().AAXReqs.indexOf(e.req)+1,h.a.getState().experiments.chunkRequests&&(e.fbIndex=h.a.getState().AAXReqs.filter((function(t){return-1===t.bidReqID.indexOf("-")||"0"===t.bidReqID.split("-")[1]})).map((function(t){return t.bidReqID.split("-")[0]})).indexOf(t.split("-")[0])+1),e}function ne(){try{var t=ae(),e=[];return null===t||Object.keys(h.a.getState().slotBids).forEach((function(n){h.a.getState().slotBids[n][0].bidConfig.mediaType!==m.a.VIDEO&&h.a.getState().slotBids[n].filter((function(t){return Object(O.m)(t.bidConfig,"amzniid")})).forEach((function(r){var o,i,a;null!==t&&(o={state:-1,slotID:n,iid:r.bidConfig.amzniid,fid:r.bidReqID},a=[],i=[],n in t&&(a=t[n].fetchedAt.filter((function(t){return t.AAXReqInfo&&t.AAXReqInfo.bidReqID===r.bidReqID})),i=t[n].targetedAt.filter((function(t){return t.targeting===r.bidConfig.amzniid}))),0<a.length?0<a.length&&i.length>=a.length&&a.slice(a.length-1)[0].ts>i.slice(a.length-1)[0].ts?1===t[n].fetchWithIID.filter((function(t){return t===r.bidConfig.amzniid})).length?o.state=1:o.state=4:Object(O.j)(t[n].fetchWithIID,r.bidConfig.amzniid)?o.state=3:o.state=2:o.state=0,1!==o.state&&2!==o.state||(a=re(i=h.a.getState().AAXReqs.filter((function(t){return t.bidReqID===r.bidReqID}))[0].resTs,t[n].fetchedAt,2===o.state))&&Object(O.m)(a,"ts")&&(o.delta=i-a.ts),e.push(o))}))})),e}catch(t){return Object(S.b)(t,"_getBidSetInfo"),[]}}function re(t,e,n){var r=e.map((function(e){return e=t-e.ts,!n&&e<=0?-e:n&&0<=e?e:null}));return e[oe(r)]}function oe(t){for(var e=-1,n=-1,r=0;r<t.length;r++)null!==t[r]&&(-1===n||t[r]<e)&&(e=t[n=r]);return n}function ie(t,e){return h.a.getState().AAXReqs.filter((function(t){return Object(O.j)(t.bidConfig.slots.map((function(t){return t.slotID})),e)}))[t]}function ae(){try{if(!b.a.hasAdServerObjectLoaded())return null;var t=h.a.getState().gamSlotFetchLog.reduce((function(t,e){Object(O.m)(t,e.slotID)||(t[e.slotID]={fetchedAt:[],targetedAt:[]});var n=t[e.slotID];return n.fetchedAt.push({ts:e.ts,AAXReqInfo:ie(n.fetchedAt.length,e.slotID)}),Object(O.m)(e.targeting,"amzniid")&&0<e.targeting.amzniid.length?n.targetedAt.push({ts:e.ts-1,targeting:e.targeting.amzniid[0]}):n.targetedAt.push({ts:e.ts-1,targeting:""}),t}),{});return Object.keys(t).forEach((function(e){var n;Object(O.m)(t,e)&&((n=t[e]).fetchWithIID=n.fetchedAt.map((function(t){return(t=re(t.ts,n.targetedAt,!0))?t.targeting:0})),t[e]=n)})),t}catch(t){return Object(S.b)(t,"_getDFPSlotFetches"),null}}function ce(){try{b.a.hasAdServerObjectLoaded()?Vt("noRequest",b.a):b.a.isCommandQueueDefined()&&b.a.cmdQueuePush((function(){Vt("noRequest",b.a)}))}catch(t){Object(S.b)(t,"_applyNoRequestToAAXState")}}function se(t){try{h.a.dispatch({type:"REQUESTED_BID_FOR_ADSERVER_SLOTS",slotIDs:t}),b.a.isCommandQueueDefined()&&b.a.cmdQueuePush((function(){try{var e=Object(g.b)(b.a);"0"===b.a.getTargeting("amznbid")[0]&&Ht(),bt(t.filter((function(t){return void 0!==t})),e.map((function(t){return t.slotID})))?e.forEach((function(e){Object(O.j)(t,e.slotID)&&!Ut(e)&&Vt("bidInFlight",e)})):b.a.cmdQueuePush((function(){try{Vt("bidInFlight",b.a)}catch(t){Object(S.b)(t,"_setRequestToAAXInFlightState-cmdQueue-cmdQueue")}}))}catch(e){Object(S.b)(e,"_setRequestToAAXInFlightState-cmdQueue")}}))}catch(t){Object(S.b)(t,"_setRequestToAAXInFlightState")}}function ue(t){try{return Object(O.m)(t,"type")&&!(t instanceof Document)&&"amp"===t.type}catch(t){return Object(S.b)(t,"_isLegacyAmpCreative"),!1}}function de(t,e){try{return void 0!==e&&Object(O.m)(e,"ampEnv")&&e.ampEnv||ue(t)}catch(t){return void Object(S.b)(t,"_isAmpImpression")}}function le(t){return t.split("x")}function fe(t,e,n){try{Object(j.g)()}catch(t){Object(S.b)(t,"_renderImp-pixels")}try{var r=void 0===n?"0.0.0":n.cv;if(de(t,n)&&Object(w.k)(window,!0))return ue(t)?Object(j.c)("renderFootprint","amp"):Object(j.c)("renderFootprint","multi-amp-".concat(r)),void At(t,n);if(Object(E.c)(window)&&void 0!==n&&Object(O.m)(n,"kvMap")&&Object(O.m)(n.kvMap,"amznhost"))return Object(j.c)("renderFootprint","multi-sf-".concat(r)),void At(t,n);var o,i=!1,a=("string"==typeof e&&0===e.indexOf("sp|")&&(e=e.substring(3),i=!0),e||t.amzniid),c=yt(a,i),s=c.slotBid,u=c.dealId,d=!1;if(void 0!==n&&Object(O.m)(n,"bidType")&&"outstream"===n.bidType&&(d=!0),s){if(o=u&&1<=u.length?le("sp"===u?s.bidConfig.amznsz_sp:gt(a,s,u)):le(s.bidConfig.amznsz),1===arguments.length)return Object(j.c)("renderFootprint","JSONp"),void Rt({doc:s.doc,bidID:s.bidConfig.amzniid,sizes:o,html:t.html,inheritSize:s.inheritSize||!1,isOutstream:d});Object(j.c)("bidRenderState",s.bidState);var l,f,b=i?"sharedpmp":"open",p=(void 0!==n?Object(j.c)("renderFootprint","multi-".concat(b,"-").concat(r)):Object(j.c)("renderFootprint","standard-".concat(b,"-").concat(r)),s.bidState===v.c.rendered&&Gt(s),h.a.dispatch({type:"BID_STATE_CHANGE",slotID:s.slotID,_targetingSetID:s._targetingSetID,bidState:v.c.rendered,ts:Date.now()}),s.host),m=s.bidConfig.slotID,y="amznad".concat(Math.round(1e6*Math.random())),g={bidID:a,doc:t,slotID:m,pp:be("amznbid",s,u),host:p,adID:y,sizes:o,amznp:be("amznp",s,u),crID:be("crid",s,u),fif:!1,dealId:u,isSharedPMP:i,cfe:s.cfe,isOutstream:d,inheritSize:Object(O.l)(n)&&Object(O.m)(n,"inheritSize")&&!0===n.inheritSize};"1"===s.bidConfig.fif&&!1===d?(g.fif=!0,h.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:s.slotID,iid:e,key:"doc",value:t}),h.a.dispatch({type:"UPDATE_BID_INFO_PROP",slotID:s.slotID,iid:e,key:"inheritSize",value:g.inheritSize}),Object(I.b)(It(g),(function(){}),document,(function(){return Object(S.b)(new Error("Error Loading JSONP Render Callback"),"renderImp-fif-callback-load",!0)}))):d?(h.a.dispatch({type:"OUTSTREAM_SHOULD_SAMPLE",shouldSample:Object(O.n)(10)}),h.a.getState().outstream.shouldSample&&(Object(j.e)("renderImp",g.bidID),h.a.dispatch({type:"RECORD_OUTSTREAM_RENDER_START_TIME",time:Date.now()})),l=Object(D.c)(g,v.b),f=Object(D.b)(l,v.y,g),g.html=f,Rt(g)):h.a.getState().aaxViewabilityEnabled?pe(g,t):Ct(g),d||xt(t,g)}else try{Object(S.b)(new Error("Invalid bid ID '".concat(e,"' tried to render into document ").concat(t instanceof Document?t.documentURI:"(document does not contain documentURI)")),"_renderImp-invalidId",!0)}catch(t){Object(S.b)(t,"_renderImp-invalidId")}}catch(t){Object(S.b)(t,"_renderImp",!0)}}function be(t,e,n){try{var r,o="";return void 0!==n&&1<=n.length?(r="".concat(t,"_sp"),"sp"===n&&Object(O.m)(e.bidConfig,r)&&(o=e.bidConfig[r])):Object(O.m)(e.bidConfig,t)&&(o=e.bidConfig[t]),o}catch(t){return Object(S.b)(t,"_getProperBidInfoValue"),""}}function pe(t,e){try{var n=e.createElement("script"),r=(n.type="text/javascript",n.async=!0,{doc:e,bidID:t.bidID,states:{csmLoaded:!1,iframeLoaded:!1,shouldRunViewability:!0}}),o=kt.bind(null,r);Object(I.a)(n,(function(){r.states.csmLoaded=!0,o()}));try{n.addEventListener("error",(function(t){return Object(j.b)({_type:"csm_fail",ts:Date.now(),msg:t.message})}))}catch(t){Object(S.b)(t,"_loadViewabilityAd-csm")}Ct(t,r,o),n.src=h.a.getState().cfg.CSM_JS,Et(e,n)}catch(t){Object(S.b)(t,"_loadViewabilityAd")}}function me(t){try{ot(t),Object(O.m)(t,"slots")&&(h.a.dispatch({type:"UPDATE_SLOT_BIDS",bids:Ot(t)}),Object(O.m)(t,"ev")&&h.a.dispatch({type:"SET_VIEWABILITY",viewability:t.ev}),Object(O.m)(t,"cfn")&&h.a.dispatch({type:"SET_CFG",cfg:{CSM_JS:"//"===t.cfn.substring(0,2)?t.cfn:"//c.amazon-adsystem.com/".concat(t.cfn)}})),it(t)}catch(t){Object(S.b)(t,"_bids",!0)}}function ye(){return"number"==typeof h.a.getState().cfg.MAX_SLOTS_PER_REQUEST&&0<h.a.getState().cfg.MAX_SLOTS_PER_REQUEST}function ge(t,e){try{Object(o.a)(h.a.getState().config.gdpr,(function(n){var r=Object(s.a)(n);he(t,e,n,r)}))}catch(t){Object(S.b)(t,"_getConfigsAndFetchBids",!0)}}function he(t,e,n,r){try{H.attemptConsentDataSync(),Object(T.b)(e,["function","undefined"])||Object(S.c)("fetchBids.callback",y(e),"function"),"function"!=typeof e&&(e=function(){}),Object(O.l)(t)||(Object(S.c)("fetchBids.bidConfig",y(t),"object"),t={}),Object(T.a)(t.timeout)||("string"==typeof t.timeout?Object(S.b)({name:"string-".concat(t.timeout),message:"fetchBids.bidConfig.timeout was a non-numeric string '".concat(t.timeout,"'")},"TypeError-fetchBids.bidConfig.timeout",!0):Object(S.c)("fetchBids.bidConfig.timeout",y(t.timeout),"number")),Object(O.m)(t,"params")&&!Object(O.l)(t.params)?Object(S.c)("fetchBids.bidConfig.params",y(t.params),"object"):Object(O.m)(t,"params")&&Object(O.l)(t.params)&&Object.keys(t.params).forEach((function(e){return!(void 0===t.params||"string"!=typeof t.params[e]&&"number"!=typeof t.params[e]&&(Object(O.k)(t.params[e])?!t.params[e].reduce((function(t,e){return t&&("string"==typeof e||"number"==typeof e)}),!0)&&(Object(S.b)({name:"non-string array item",message:"'fetchBids.bidConfig.params.".concat(e," contains a non-string item")},"TypeError-fetchBids.bidConfig.params.".concat(e),!0),1):(Object(S.c)("fetchBids.bidConfig.params.".concat(e),y(t.params[e]),"string' or 'array"),1)))})),Object(O.m)(t,"blockedBidders")&&!Object(O.k)(t.blockedBidders)?Object(S.c)("fetchBids.bidConfig.blockedBidders",y(t.blockedBidders),"array"):Object(O.m)(t,"blockedBidders")&&Object(O.k)(t.blockedBidders)&&(t.blockedBidders.reduce((function(t,e){return t&&("string"==typeof e||"number"==typeof e)}),!0)||Object(S.b)({name:"non-string array item",message:"'fetchBids.bidConfig.blockedBidders contains a non-string item"},"TypeError-fetchBids.bidConfig.blockedBidders",!0)),Object(O.m)(t,"blockedBidders")?Object(j.c)("blockedBidders-fetchBids","y"):Object(j.c)("blockedBidders-fetchBids","n"),Object(O.m)(t,"slots")&&!Object(O.k)(t.slots)&&Object(S.c)("fetchBids.bidConfig.slots",y(t.slots),"array")}catch(o){Object(S.b)(o,"_fetchBids-validation",!0)}var o=h.a.getState().config.simplerGPT,i=F(F({},t),{},{bidReqID:"".concat(h.a.getState().AAXReqs.length),slots:[],validSlots:[],networkReqs:[]}),a=!1;try{!0===o&&(!Object(O.m)(t,"slots")||Object(O.m)(t,"slots")&&Object(O.k)(t.slots)&&0<t.slots.length&&Object(O.m)(t.slots[0],"getSlotElementId"))?0===Object(g.b)(b.a).length?(Object(S.b)(new Error("fetchBids was called in simplerGPT mode before any slots were defined in GPT"),"_fetchBids-simplerGpt-NoSlots",!0),a=!0,i.slots=[]):(t.slots?(Object(j.c)("slots","gpt-provided"),i.slots=t.slots.map((function(t){return new R.a(t)}))):(Object(j.c)("slots","gpt-fetch"),i.slots=Object(g.b)(b.a)),i.slots=i.slots.filter(g.a),0===i.slots.length&&(Object(S.b)(new Error("No GPT slots provided to apstag.fetchBids() had valid sizes"),"_fetchBids-simplerGpt-NoValidSizes",!0),a=!0)):Object(O.m)(t,"slots")&&Object(O.k)(t.slots)&&(o?Object(j.c)("slots","gpt-aps"):Object(j.c)("slots","aps"),i.slots=t.slots.map((function(t){switch(t.mediaType){case m.a.DISPLAY:return new P.a(t);case m.a.VIDEO:return new A.a(t);case m.a.MULTI_FORMAT:return new C.a(t);default:return new P.a(t)}}))),i.validSlots=i.slots.filter((function(t){return t.isValid()}))}catch(o){Object(S.b)(o,"_fetchBids-getSlots",!0)}var c=Object(w.i)(i,h.a.getState());try{e=Object(w.b)(zt(e,i),c)}catch(o){Object(S.b)(o,"_fetchBids-wrapCallback",!0)}try{if(0===i.validSlots.length)return!1===a&&Object(S.b)(new Error("No valid slots provided to apstag.fetchBids"),"_fetchBids-noSlots",!0),void setTimeout(e.bind(null,[]),10);try{var s=1===i.slots.length?"single":"multi",u=Date.now()-V<=v.q?"onload":"ondelay",d=h.a.getState().AAXReqs.reduce((function(t,e){return e.bidConfig.slots.forEach((function(e){Object(O.j)(t,e.slotID)||t.push(e.slotID)})),t}),[]);i.slots.map((function(t){return t.slotID})).map((function(t){return Object(O.j)(d,t)})).map((function(t){return t?"refresh":"initial"})).filter((function(t,e,n){return n.indexOf(t)===e})).forEach((function(t){return Object(j.c)("fetchBids","".concat(s,"-").concat(u,"-").concat(t))}))}catch(o){Object(S.b)(o,"_fetchBids-feature")}if(se(i.slots.filter(Object(g.d)(m.a.DISPLAY,m.a.MULTI_FORMAT)).map(g.c)),h.a.dispatch({type:"NEW_FETCH_BID_REQUEST",fid:i.bidReqID,pto:c}),h.a.dispatch({type:"RECORD_ORIGINAL_BID_CONFIG",bidConfig:i}),Object(_.d)("fake_bids"))Mt(i);else if(v.k)if(h.a.dispatch({type:"SHOULD_CHUNK_REQUESTS",value:Object(O.n)(h.a.getState().cfg.CHUNK_BID_REQUESTS_PROPORTION)}),h.a.getState().experiments.chunkRequests&&ye()){for(var l=Oe(i),f=0;f<l.length;f++)l[f].bidReqID="".concat(i.bidReqID,"-").concat(f);h.a.dispatch({type:"ADD_CHUNKED_REQUESTS",fid:i.bidReqID,numChunks:l.length}),l.forEach((function(t){et(Object(p.d)(t,c,n,r),e,t.bidReqID)}))}else et(Object(p.d)(i,c,n,r),e,i.bidReqID);else Object(I.b)(Object(p.d)(i,c,n,r),e)}catch(o){Object(S.b)(o,"_fetchBids",!0)}}function Oe(t){try{for(var e=Math.ceil(t.validSlots.length/h.a.getState().cfg.MAX_SLOTS_PER_REQUEST),n=new Array(e),r=0;r<e;r++){var o=r*h.a.getState().cfg.MAX_SLOTS_PER_REQUEST;n[r]={slots:t.validSlots.slice(o,o+h.a.getState().cfg.MAX_SLOTS_PER_REQUEST)}}return n.map((function(e){return F(F({},t),e)}))}catch(e){return Object(S.b)(e,"chunkConfig",!0),[]}}function ve(t){try{Object(O.m)(h.a.getState().config,"adServer")?b.a.isSupported?(wt(t),qt()):Object(S.b)(new Error("apstag.setDisplayBids called with unsupported ad server: ".concat(h.a.getState().config.adServer)),"_setDisplayBids-invalidAdServer",!0):Object(S.b)(new Error("apstag.setDisplayBids called without specifying ad server"),"_setDisplayBids-noAdServer",!0)}catch(t){Object(S.b)(t,"_setDisplayBids",!0)}}function je(t,e){try{H.attemptConsentDataSync(),st(t),Object(b.b)(t.adServer),ce(),Object(s.b)()}catch(t){Object(S.b)(t,"_init")}"function"==typeof e&&e()}function Se(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"display",e=h.a.getState();try{switch(t){case m.a.DISPLAY:return Object(j.c)("targeting","targetingKeys-display"),e.config.useSafeFrames?[].concat(k(v.i),["amznhost"]):v.i;case m.a.VIDEO:return Object(j.c)("targeting","targetingKeys-video"),e.config.useSafeFrames?[].concat(k(v.x),["amznhost"]):v.x;default:if(Object(p.g)(h.a.getState(),b.a)){if(Object(j.c)("targeting","targetingKeys-newBid"),Object(O.k)(h.a.getState().targetingKeys[t]))return h.a.getState().targetingKeys[t]}else Object(j.c)("targeting","targetingKeys-invalid");return[]}}catch(t){return Object(S.b)(t,"_targetingKeys",!0),[]}}function we(){try{return h.a.getState().AAXReqs.reduce((function(t,e){return e.bidConfig.slots.reduce((function(t,e){return t[e.slotID]=e.slotName,t}),t)}),{})}catch(t){return Object(S.b)(t,"_getSlotIdToNameMapping",!0),{}}}function _e(t,e){var n=e;return function(){return W({method:t,args:arguments}),n.apply(void 0,arguments)}}try{Object(O.m)(window,"apstag")&&Object(O.m)(window.apstag,"_Q")&&0<window.apstag._Q.length&&h.a.dispatch({type:"SET_Q",Q:window.apstag._Q})}catch(t){Object(S.b)(t,"apstag-storeQ",!0)}window.apstag=(Xt={punt:me,init:je,debug:_.a,_getSlotIdToNameMapping:we,targetingKeys:Se,fetchBids:ge,setDisplayBids:ve,renderImp:fe,bids:me,deleteId:u.a,updateId:u.e,renewId:u.d,dpa:u.a,upa:u.e,rpa:u.d,thirdPartyData:{},isGDPRRegion:!1,rr:l.a},Object.keys(Xt).forEach((function(t){"function"==typeof Xt[t]&&(Xt[t]=_e(t,Xt[t]),Xt[t]=Object(S.d)(Xt[t],t))})),X?Object(_.b)(!0,G):Q&&Object(_.b)(!1,G),!0===Object(_.c)("exposeApi")&&(Xt._api={_getBidSetInfo:ne,_applyTargetingToGPTSlot:vt,dispatch:h.a.dispatch,_clearTargetingFromGPTSlot:lt,_clearBidSetOnSlot:ft,_doFbSync:_t,_getCurrentSlotBids:pt,_creativeURL:It,getSlotFetchCounts:Wt,buildBidUrl:p.d}),Xt);try{var Ee,De=(h.a.dispatch({type:"SHOULD_SAMPLE_FEATURES",value:Object(O.n)(h.a.getState().cfg.FEATURE_SAMPLING_RATE)}),h.a.dispatch({type:"SHOULD_CF_ROUTE",value:Object(O.n)(h.a.getState().cfg.CF_ROUTING_RATE)}),h.a.getState().experiments.shouldCFRoute&&h.a.dispatch({type:"SET_HOST",hostName:"DEFAULT_AAX_BID_HOST",hostValue:"c.amazon-adsystem.com"}),h.a.dispatch({type:"SHOULD_SAMPLE_LATENCY",value:Object(O.n)(h.a.getState().cfg.LATENCY_SAMPLING_RATE)}),null!==h.a.getState().cfg.TEST_BID_ENDPOINT&&(Ee=Object(O.n)(h.a.getState().cfg.TEST_PATH_FREQUENCY),h.a.dispatch({type:"SHOULD_USE_TEST_BID_ENDPOINT",value:Ee}),Ee&&null!==h.a.getState().cfg.TEST_PATH_LATENCY_SAMPLE_RATE&&h.a.dispatch({type:"SHOULD_SAMPLE_LATENCY",value:Object(O.n)(h.a.getState().cfg.TEST_PATH_LATENCY_SAMPLE_RATE)})),h.a.dispatch({type:"SHOULD_SAMPLE_SLOT_RENDER",value:Object(O.n)(h.a.getState().cfg.SLOT_RENDER_SAMPLING_RATE)}),h.a.getState());(De.experiments.shouldSampleLatency||De.displayAdServer.shouldSampleRender)&&Jt(),De.displayAdServer.shouldSampleRender&&Kt(),De.experiments.shouldSampleLatency&&$t()}catch(t){Object(S.b)(t,"apstag-sampleLatency")}try{ct()}catch(t){Object(S.b)(t,"apstag-doLast")}if(!Object(w.k)(window,!0))try{var Ie=function(t){t&&"object"!==y(t)||(t="Request Timeout or Error"),Object(S.b)({message:"csm-rtb-comm-js loading failed",name:t},"__csm-rtb-comm-js__")};Object(I.d)({url:h.a.getState().cfg.CSM_RTB_COMMUNICATOR_JS,onload:function t(e){e.readyState===XMLHttpRequest.DONE&&200===e.status?eval(e.responseText):Ie(JSON.stringify({status:e.statusText,response:e.responseXML}))},onerror:Ie,ontimeout:Ie})}catch(t){Object(S.b)(t,"__load-csm-rtb-comm-js__")}Object(_.e)()}}catch(t){Object(S.b)(t,"apstag")}}]);
//# sourceMappingURL=apstag.js.map